{
  "openapi": "3.1.0",
  "info": {
    "title": "TGO-Tech API Service",
    "description": "Core Business Logic Microservice",
    "version": "0.1.0"
  },
  "paths": {
    "/v1/setup/status": {
      "get": {
        "tags": [
          "Setup"
        ],
        "summary": "Check system installation status",
        "description": "Check whether the system has completed initial installation and return setup progress.",
        "operationId": "get_setup_status_v1_setup_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/admin": {
      "post": {
        "tags": [
          "Setup"
        ],
        "summary": "Create first admin account",
        "description": "Create the system's first administrator account and default project. This endpoint can only be called once during initial setup.",
        "operationId": "create_admin_v1_setup_admin_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdminRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/llm-config": {
      "post": {
        "tags": [
          "Setup"
        ],
        "summary": "Configure LLM provider",
        "description": "Configure a Large Language Model provider for the system. Requires that an admin account has been created first.",
        "operationId": "configure_llm_v1_setup_llm_config_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigureLLMRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigureLLMResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/skip-llm": {
      "post": {
        "tags": [
          "Setup"
        ],
        "summary": "Skip LLM configuration during setup",
        "description": "Explicitly skip the LLM configuration step in the installation wizard. This is useful when you want to complete the installation now and configure AI providers later via the normal management endpoints.",
        "operationId": "skip_llm_configuration_v1_setup_skip_llm_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkipLLMConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/verify": {
      "get": {
        "tags": [
          "Setup"
        ],
        "summary": "Verify installation completeness",
        "description": "Verify that the system installation is complete and all components are properly configured.",
        "operationId": "verify_setup_v1_setup_verify_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifySetupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "List Projects",
        "description": "List projects.\n\nRetrieve a list of projects. This endpoint is typically used by system administrators\nto manage multiple tenant projects.",
        "operationId": "list_projects_v1_projects_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Projects"
        ],
        "summary": "Create Project",
        "description": "Create project.\n\nCreate a new project (tenant). This automatically generates an API key for the project\nand publishes a project creation event for AI Service synchronization.",
        "operationId": "create_project_v1_projects_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/projects/{project_id}": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Get Project",
        "description": "Get project details.",
        "operationId": "get_project_v1_projects__project_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Projects"
        ],
        "summary": "Update Project",
        "description": "Update project.\n\nUpdate project information. This publishes a project update event\nfor AI Service synchronization.",
        "operationId": "update_project_v1_projects__project_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Projects"
        ],
        "summary": "Delete Project",
        "description": "Delete project (soft delete).\n\nSoft delete a project. This publishes a project deletion event\nfor AI Service synchronization and cleanup.",
        "operationId": "delete_project_v1_projects__project_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/{project_id}/ai-config": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Get Project Ai Config",
        "description": "Get default AI model configuration for a project.\n\nIf a record does not exist yet, create an empty configuration and return it (HTTP 200).",
        "operationId": "get_project_ai_config_v1_projects__project_id__ai_config_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectAIConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Projects"
        ],
        "summary": "Upsert Project Ai Config",
        "description": "Upsert default AI model configuration for a project.\n\n- Validates provider IDs belong to the same project\n- Optionally validates model is in provider.available_models when both provided",
        "operationId": "upsert_project_ai_config_v1_projects__project_id__ai_config_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectAIConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectAIConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/{project_id}/ai-config/sync": {
      "post": {
        "tags": [
          "Projects"
        ],
        "summary": "Sync Project Ai Config Now",
        "description": "Manually trigger sync of a project's AI config to AI service.",
        "operationId": "sync_project_ai_config_now_v1_projects__project_id__ai_config_sync_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectAIConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/staff/login": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Login Staff",
        "description": "Staff login.\n\nAuthenticate staff member and return JWT access token.\nAlso registers/synchronizes user with WuKongIM for instant messaging.",
        "operationId": "login_staff_v1_staff_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_staff_v1_staff_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffLoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/staff": {
      "get": {
        "tags": [
          "Staff"
        ],
        "summary": "List Staff",
        "description": "List staff members.\n\nRetrieve a paginated list of staff members with optional filtering.",
        "operationId": "list_staff_v1_staff_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/StaffRole"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/StaffStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Create Staff",
        "description": "Create staff member.\n\nCreate a new staff member or AI agent. For AI agents, validates agent_id\nwith AI Service and publishes agent creation event.",
        "operationId": "create_staff_v1_staff_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StaffCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/staff/{staff_id}": {
      "get": {
        "tags": [
          "Staff"
        ],
        "summary": "Get Staff",
        "description": "Get staff member details.",
        "operationId": "get_staff_v1_staff__staff_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "staff_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Staff Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Staff"
        ],
        "summary": "Update Staff",
        "description": "Update staff member.\n\nUpdate staff member information. For AI agents, validates agent_id changes\nwith AI Service and publishes agent update event.",
        "operationId": "update_staff_v1_staff__staff_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "staff_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Staff Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StaffUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Staff"
        ],
        "summary": "Delete Staff",
        "description": "Delete staff member (soft delete).\n\nSoft delete a staff member. For AI agents, publishes agent deletion event\nfor AI Service cleanup.",
        "operationId": "delete_staff_v1_staff__staff_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "staff_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Staff Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/staff/wukongim/status": {
      "get": {
        "tags": [
          "Staff"
        ],
        "summary": "Get WuKongIM Integration Status",
        "description": "Get the current status of WuKongIM integration including configuration and health.",
        "operationId": "get_wukongim_status_v1_staff_wukongim_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMIntegrationStatus"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/staff/wukongim/online-status": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Check Staff Online Status",
        "description": "Check which staff members are currently online in WuKongIM.",
        "operationId": "check_staff_online_status_v1_staff_wukongim_online_status_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WuKongIMOnlineStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMOnlineStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/staff/wukongim/conversations/sync": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Sync WuKongIM Conversations",
        "description": "Synchronize recent conversations from WuKongIM for the current staff member.",
        "operationId": "sync_wukongim_conversations_v1_staff_wukongim_conversations_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WuKongIMConversationSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMConversationSyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/staff/wukongim/conversations/set-unread": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Set Conversation Unread Count",
        "description": "Set the unread message count for a specific conversation.",
        "operationId": "set_conversation_unread_v1_staff_wukongim_conversations_set_unread_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WuKongIMSetUnreadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Set Conversation Unread V1 Staff Wukongim Conversations Set Unread Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/staff/wukongim/conversations/delete": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Delete Conversation",
        "description": "Delete a specific conversation from WuKongIM.",
        "operationId": "delete_conversation_v1_staff_wukongim_conversations_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WuKongIMDeleteConversationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Delete Conversation V1 Staff Wukongim Conversations Delete Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/staff/wukongim/channels/messages/sync": {
      "post": {
        "tags": [
          "Staff"
        ],
        "summary": "Sync Channel Messages",
        "description": "Synchronize messages from a specific WuKongIM channel.",
        "operationId": "sync_channel_messages_v1_staff_wukongim_channels_messages_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WuKongIMChannelMessageSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMChannelMessageSyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/visitors": {
      "get": {
        "tags": [
          "Visitors"
        ],
        "summary": "List Visitors",
        "description": "List visitors.\n\nRetrieve a paginated list of visitors with optional filtering by platform,\nonline status, and search query.",
        "operationId": "list_visitors_v1_visitors_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Platform Id"
            }
          },
          {
            "name": "is_online",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Online"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Create Visitor",
        "description": "Create visitor.\n\nCreate a new visitor record. Requires either platform_id or platform_type.\nIf platform_type is provided, uses the default platform of that type.",
        "operationId": "create_visitor_v1_visitors_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/register": {
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Register Visitor",
        "description": "Register a visitor using a Platform API key (visitor-facing use).\n\n- Authenticates via platform_api_key\n- Creates or returns an existing visitor bound to the platform/project\n- Returns channel info for messaging integration",
        "operationId": "register_visitor_v1_visitors_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorRegisterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/activities": {
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Visitor: Record Activity",
        "description": "Record a visitor activity from the client-side integration. Authenticate using the platform API key and supply the visitor ID.",
        "operationId": "record_visitor_activity_v1_visitors_activities_post",
        "parameters": [
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorActivityCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorActivityCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/by-channel": {
      "get": {
        "tags": [
          "Visitors"
        ],
        "summary": "Get Visitor By Channel",
        "description": "Get visitor details by channel identifiers.\n\nLogic:\n- channel_type == CHANNEL_TYPE_CUSTOMER_SERVICE (251): channel_id format is \"{visitor_uuid}-vtr\"\n- channel_type == 1: channel_id is the visitor_id directly\n- otherwise: 400 unsupported channel type",
        "operationId": "get_visitor_by_channel_v1_visitors_by_channel_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "channel_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Channel Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}/basic": {
      "get": {
        "tags": [
          "Visitors"
        ],
        "summary": "Get Visitor Basic",
        "description": "Get basic visitor information without heavy related entities.\n\nThis endpoint is optimized for quick lookups and avoids loading tags, AI data,\nsystem info, or recent activities. It only loads the platform relation to\npopulate platform_type if available.",
        "operationId": "get_visitor_basic_v1_visitors__visitor_id__basic_get",
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorBasicResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}": {
      "get": {
        "tags": [
          "Visitors"
        ],
        "summary": "Get Visitor",
        "description": "Get visitor details.",
        "operationId": "get_visitor_v1_visitors__visitor_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Visitors"
        ],
        "summary": "Update Visitor",
        "description": "Update visitor.\n\nUpdate visitor information including contact details and activity status.",
        "operationId": "update_visitor_v1_visitors__visitor_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Visitors"
        ],
        "summary": "Delete Visitor",
        "description": "Delete visitor (soft delete).\n\nSoft delete a visitor record. This also removes all associated assignments and tags.",
        "operationId": "delete_visitor_v1_visitors__visitor_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}/attributes": {
      "put": {
        "tags": [
          "Visitors"
        ],
        "summary": "Set Visitor Attributes",
        "description": "Set visitor profile attributes including custom fields.",
        "operationId": "set_visitor_attributes_v1_visitors__visitor_id__attributes_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorAttributesUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}/enable-ai": {
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Enable Ai For Visitor",
        "description": "Enable AI for a visitor (set ai_disabled=False).",
        "operationId": "enable_ai_for_visitor_v1_visitors__visitor_id__enable_ai_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}/disable-ai": {
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Disable Ai For Visitor",
        "description": "Disable AI for a visitor (set ai_disabled=True).",
        "operationId": "disable_ai_for_visitor_v1_visitors__visitor_id__disable_ai_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/messages/sync": {
      "post": {
        "tags": [
          "Visitors"
        ],
        "summary": "Visitor: Sync Channel Messages",
        "description": "Visitor-facing endpoint to retrieve historical messages from a channel.",
        "operationId": "sync_visitor_channel_messages_v1_visitors_messages_sync_post",
        "parameters": [
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorMessageSyncRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMChannelMessageSyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/visitors/{visitor_id}/avatar": {
      "post": {
        "tags": [
          "Visitors",
          "Visitors"
        ],
        "summary": "Upload visitor avatar",
        "description": "Upload an avatar image for a visitor.\n\n    **Authentication**: JWT (Staff) authentication required.\n    - Use `Authorization: Bearer \u003Ctoken\u003E` header\n\n    **File Requirements**:\n    - Allowed formats: JPEG, PNG, GIF, WebP\n    - Maximum size: 5MB\n\n    **Storage**:\n    - Files are stored locally on the server\n    - The `avatar_url` field is updated with a relative path (e.g., `/v1/visitors/{visitor_id}/avatar`)",
        "operationId": "upload_visitor_avatar_v1_visitors__visitor_id__avatar_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_visitor_avatar_v1_visitors__visitor_id__avatar_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorAvatarUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Visitors",
          "Visitors"
        ],
        "summary": "Get visitor avatar",
        "description": "Retrieve the avatar image for a visitor.\n\n    **Public Access**: This endpoint allows public access to serve avatar images.\n    If the visitor has no avatar or an external URL, returns 404.",
        "operationId": "get_visitor_avatar_v1_visitors__visitor_id__avatar_get",
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Avatar image file",
            "content": {
              "application/json": {
                "schema": {

                }
              },
              "image/*": {

              }
            }
          },
          "404": {
            "description": "Avatar not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/assignments": {
      "get": {
        "tags": [
          "Assignments"
        ],
        "summary": "List Assignments",
        "description": "List assignments.\n\nRetrieve a paginated list of visitor assignments with optional filtering.",
        "operationId": "list_assignments_v1_assignments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Visitor Id"
            }
          },
          {
            "name": "assigned_staff_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assigned Staff Id"
            }
          },
          {
            "name": "assignment_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/AssignmentType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignment Type"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssignmentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Assignments"
        ],
        "summary": "Create Assignment",
        "description": "Create assignment.\n\nCreate a new visitor assignment. Validates visitor and staff existence,\nand publishes assignment event for AI Service coordination.",
        "operationId": "create_assignment_v1_assignments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignmentCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssignmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/assignments/{assignment_id}": {
      "get": {
        "tags": [
          "Assignments"
        ],
        "summary": "Get Assignment",
        "description": "Get assignment details.",
        "operationId": "get_assignment_v1_assignments__assignment_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Assignment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssignmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Assignments"
        ],
        "summary": "Update Assignment",
        "description": "Update assignment.\n\nUpdate assignment notes or other mutable fields.",
        "operationId": "update_assignment_v1_assignments__assignment_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Assignment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignmentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssignmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tags": {
      "get": {
        "tags": [
          "Tags"
        ],
        "summary": "List Tags",
        "description": "List tags.\n\nRetrieve a paginated list of tags with optional filtering by category and search.",
        "operationId": "list_tags_v1_tags_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TagCategory"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Category"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Tags"
        ],
        "summary": "Create Tag",
        "description": "Create tag.\n\nCreate a new tag for categorization. Tag ID is automatically generated\nas Base64 encoded string from name and category.",
        "operationId": "create_tag_v1_tags_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tags/{tag_id}": {
      "get": {
        "tags": [
          "Tags"
        ],
        "summary": "Get Tag",
        "description": "Get tag details.",
        "operationId": "get_tag_v1_tags__tag_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Tags"
        ],
        "summary": "Update Tag",
        "description": "Update tag.\n\nUpdate tag properties like weight, color, and description.\nName and category cannot be changed as they determine the tag ID.",
        "operationId": "update_tag_v1_tags__tag_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tags"
        ],
        "summary": "Delete Tag",
        "description": "Delete tag (soft delete).\n\nSoft delete a tag. This also removes all visitor-tag associations.",
        "operationId": "delete_tag_v1_tags__tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tags/visitor-tags": {
      "post": {
        "tags": [
          "Tags"
        ],
        "summary": "Create Visitor Tag",
        "description": "Create visitor-tag association.\n\nAssociate a tag with a visitor for categorization purposes.",
        "operationId": "create_visitor_tag_v1_tags_visitor_tags_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VisitorTagCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisitorTagResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/tags/visitor-tags/{visitor_tag_id}": {
      "delete": {
        "tags": [
          "Tags"
        ],
        "summary": "Delete Visitor Tag",
        "description": "Delete visitor-tag association (hard delete).\n\nPermanently remove the association between a visitor and a tag.\nThis action cannot be undone.",
        "operationId": "delete_visitor_tag_v1_tags_visitor_tags__visitor_tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tags/visitors/{visitor_id}/tags/{tag_id}": {
      "delete": {
        "tags": [
          "Tags"
        ],
        "summary": "Delete Visitor Tag By Ids",
        "description": "Delete visitor-tag association by visitor ID and tag ID (hard delete).\n\nPermanently remove the association between a specific visitor and a specific tag.\nThis endpoint allows deletion using the visitor_id and tag_id directly,\nwithout needing to know the visitor_tag association ID.\nThis action cannot be undone.",
        "operationId": "delete_visitor_tag_by_ids_v1_tags_visitors__visitor_id__tags__tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "visitor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Visitor Id"
            }
          },
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/types": {
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "List Platform Types",
        "description": "List available platform type definitions.",
        "operationId": "list_platform_types_v1_platforms_types_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlatformTypeDefinitionResponse"
                  },
                  "title": "Response List Platform Types V1 Platforms Types Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms": {
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "List Platforms",
        "description": "List platforms.\n\nRetrieve a paginated list of communication platforms with optional filtering.",
        "operationId": "list_platforms_v1_platforms_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/PlatformType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Create Platform",
        "description": "Create platform.\n\nCreate a new communication platform configuration.",
        "operationId": "create_platform_v1_platforms_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlatformCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/info": {
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "Platform: Get Platform Info",
        "description": "Retrieve platform information using Platform API key (visitor-facing).",
        "operationId": "get_platform_info_v1_platforms_info_get",
        "parameters": [
          {
            "name": "platform_api_key",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Platform Api Key"
            }
          },
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}": {
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "Get Platform",
        "description": "Get platform details.",
        "operationId": "get_platform_v1_platforms__platform_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Platforms"
        ],
        "summary": "Update Platform",
        "description": "Update platform.\n\nUpdate platform configuration and settings.",
        "operationId": "update_platform_v1_platforms__platform_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlatformUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Platforms"
        ],
        "summary": "Delete Platform",
        "description": "Delete platform (soft delete).\n\nSoft delete a platform. This also affects all visitors associated with this platform.",
        "operationId": "delete_platform_v1_platforms__platform_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/regenerate_api_key": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Regenerate Platform Api Key",
        "description": "Regenerate the API key for a platform.",
        "operationId": "regenerate_platform_api_key_v1_platforms__platform_id__regenerate_api_key_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformAPIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/enable": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Enable Platform",
        "description": "Enable a platform (set is_active=True).",
        "operationId": "enable_platform_v1_platforms__platform_id__enable_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/disable": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Disable Platform",
        "description": "Disable a platform (set is_active=False).",
        "operationId": "disable_platform_v1_platforms__platform_id__disable_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/enable-ai": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Enable Ai For Platform",
        "description": "Enable AI for a platform (set ai_disabled=False).",
        "operationId": "enable_ai_for_platform_v1_platforms__platform_id__enable_ai_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/disable-ai": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Disable Ai For Platform",
        "description": "Disable AI for a platform (set ai_disabled=True).",
        "operationId": "disable_ai_for_platform_v1_platforms__platform_id__disable_ai_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/{platform_id}/logo": {
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Upload Platform Logo",
        "description": "Upload or replace the logo image for a platform (staff-only).\n\n- Auth: JWT staff via get_current_active_user\n- File: multipart/form-data field 'file'\n- Validates MIME type and file size; stores under PLATFORM_LOGO_UPLOAD_DIR/{platform_id}/",
        "operationId": "upload_platform_logo_v1_platforms__platform_id__logo_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          },
          {
            "name": "X-User-Language",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "zh",
              "title": "X-User-Language"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_platform_logo_v1_platforms__platform_id__logo_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "Get Platform Logo",
        "description": "Serve the stored logo image for a platform (public access).",
        "operationId": "get_platform_logo_v1_platforms__platform_id__logo_get",
        "parameters": [
          {
            "name": "platform_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Platform Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/platforms/callback/{platform_api_key}": {
      "get": {
        "tags": [
          "Platforms"
        ],
        "summary": "Wecom Callback Verify",
        "description": "WeCom () callback URL verification (GET).\n\nWeCom sends msg_signature, timestamp, nonce, and echostr for verification.\nWe verify the signature and decrypt echostr (if encryption enabled), then\nreturn the decrypted plain text as the response body.",
        "operationId": "wecom_callback_verify_v1_platforms_callback__platform_api_key__get",
        "parameters": [
          {
            "name": "platform_api_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Api Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Platforms"
        ],
        "summary": "Platform Callback Forward",
        "description": "Forward third-party platform callbacks to the TGO Platform Service.\n\n- Validates the platform_api_key against platforms table (must be active and not soft-deleted)\n- Forwards body and query parameters to Platform Service\n- Returns Platform Service response verbatim (status, headers, body)",
        "operationId": "platform_callback_forward_v1_platforms_callback__platform_api_key__post",
        "parameters": [
          {
            "name": "platform_api_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform Api Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers": {
      "get": {
        "tags": [
          "AI Providers"
        ],
        "summary": "List Ai Providers",
        "description": "List AI providers with pagination and optional filtering/search.",
        "operationId": "list_ai_providers_v1_ai_providers_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "model_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(chat|embedding)$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Model Type"
            }
          },
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Provider"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Create Ai Provider",
        "description": "Create a new AI provider configuration for current project.",
        "operationId": "create_ai_provider_v1_ai_providers_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIProviderCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers/{provider_id}": {
      "get": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Get Ai Provider",
        "description": "Get a single AI provider by ID.",
        "operationId": "get_ai_provider_v1_ai_providers__provider_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Update Ai Provider",
        "description": "Update an AI provider configuration.",
        "operationId": "update_ai_provider_v1_ai_providers__provider_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIProviderUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Delete Ai Provider",
        "description": "Soft delete an AI provider.",
        "operationId": "delete_ai_provider_v1_ai_providers__provider_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers/{provider_id}/enable": {
      "post": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Enable Ai Provider",
        "description": "Enable an AI provider.",
        "operationId": "enable_ai_provider_v1_ai_providers__provider_id__enable_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers/{provider_id}/sync": {
      "post": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Sync Ai Provider Now",
        "description": "Manually trigger sync of a single AI provider to tgo-ai.",
        "operationId": "sync_ai_provider_now_v1_ai_providers__provider_id__sync_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers/{provider_id}/disable": {
      "post": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Disable Ai Provider",
        "description": "Disable an AI provider.",
        "operationId": "disable_ai_provider_v1_ai_providers__provider_id__disable_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/providers/{provider_id}/test": {
      "post": {
        "tags": [
          "AI Providers"
        ],
        "summary": "Test Ai Provider Connection",
        "description": "Test connection/credentials for an AI provider.\n\nPerforms a lightweight GET request to provider's models/list endpoint\nusing the stored API key. Returns success flag and message.",
        "operationId": "test_ai_provider_connection_v1_ai_providers__provider_id__test_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rag/collections": {
      "get": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "List Collections",
        "description": "Retrieve all collections for the authenticated project with filtering and pagination.\n\n    Collections are used to organize documents and files for RAG operations.\n    All results are automatically scoped to the authenticated project.",
        "operationId": "list_collections_v1_rag_collections_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "display_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by collection display name (partial match)",
              "title": "Display Name"
            },
            "description": "Filter by collection display name (partial match)"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tags (comma-separated list)",
              "title": "Tags"
            },
            "description": "Filter by tags (comma-separated list)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of collections to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of collections to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of collections to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of collections to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "Create Collection",
        "description": "Create a new collection within the authenticated project for organizing documents and files.\n\n    Collections help organize RAG content and can contain metadata about embedding models,\n    chunk sizes, and other processing parameters. Collection is automatically scoped to the authenticated project.",
        "operationId": "create_collection_v1_rag_collections_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rag/collections/{collection_id}": {
      "get": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "Get Collection",
        "description": "Retrieve detailed information about a specific collection including metadata\n    and optional statistics about contained documents and files. Collection must belong to the authenticated project.",
        "operationId": "get_collection_v1_rag_collections__collection_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Collection Id"
            }
          },
          {
            "name": "include_stats",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include document and file count statistics",
              "default": false,
              "title": "Include Stats"
            },
            "description": "Include document and file count statistics"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionDetailResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "Update Collection",
        "description": "Update an existing collection's properties including display name, description,\n    tags, and metadata. Only provided fields will be updated. Collection must belong\n    to the authenticated project and cannot be soft-deleted.\n\n    This endpoint allows partial updates - you only need to provide the fields you want to change.\n    All other fields will remain unchanged.",
        "operationId": "update_collection_v1_rag_collections__collection_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "Delete Collection",
        "description": "Delete a specific collection by its UUID. This will set collection_id to NULL\n    for associated files and documents but will not delete them. Collection must belong to the authenticated project.",
        "operationId": "delete_collection_v1_rag_collections__collection_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Collection Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rag/collections/{collection_id}/documents/search": {
      "post": {
        "tags": [
          "RAG Collections"
        ],
        "summary": "Search Collection Documents",
        "description": "Perform semantic search for documents within a specific collection.\n\n    This endpoint provides collection-scoped search capabilities for RAG operations.\n    All results are automatically scoped to the authenticated project.",
        "operationId": "search_collection_documents_v1_rag_collections__collection_id__documents_search_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rag/files": {
      "get": {
        "tags": [
          "RAG Files"
        ],
        "summary": "List Files",
        "description": "Retrieve all files for the authenticated project with filtering and pagination.\n\n    Files represent uploaded documents that are processed for RAG operations.\n    All results are automatically scoped to the authenticated project.",
        "operationId": "list_files_v1_rag_files_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by collection ID",
              "title": "Collection Id"
            },
            "description": "Filter by collection ID"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by processing status",
              "title": "Status"
            },
            "description": "Filter by processing status"
          },
          {
            "name": "content_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by MIME type",
              "title": "Content Type"
            },
            "description": "Filter by MIME type"
          },
          {
            "name": "uploaded_by",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by uploader",
              "title": "Uploaded By"
            },
            "description": "Filter by uploader"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tags (comma-separated list)",
              "title": "Tags"
            },
            "description": "Filter by tags (comma-separated list)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of files to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of files to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of files to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of files to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "RAG Files"
        ],
        "summary": "Upload File",
        "description": "Upload a new file for RAG processing within the authenticated project.\n\n    The file will be stored and queued for document extraction and embedding generation.\n    Supported formats: PDF, Word documents, text files, and markdown files.\n    All files are automatically scoped to the authenticated project.",
        "operationId": "upload_file_v1_rag_files_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_v1_rag_files_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "File too large - exceeds maximum allowed size"
          },
          "415": {
            "description": "Unsupported media type - file type not allowed"
          }
        }
      }
    },
    "/v1/rag/files/batch": {
      "post": {
        "tags": [
          "RAG Files"
        ],
        "summary": "Batch Upload Files",
        "description": "Upload multiple files for RAG processing within the authenticated project in a single batch operation.\n\n    All files will be stored and queued for document extraction and embedding generation.\n    The response includes details about successful uploads and any failures.\n    Supported formats: PDF, Word documents, text files, and markdown files.\n    All files are automatically scoped to the authenticated project.",
        "operationId": "upload_files_batch_v1_rag_files_batch_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_files_batch_v1_rag_files_batch_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchFileUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "One or more files too large - exceeds maximum allowed size"
          },
          "415": {
            "description": "Unsupported media type - one or more file types not allowed"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/rag/files/{file_id}": {
      "get": {
        "tags": [
          "RAG Files"
        ],
        "summary": "Get File",
        "description": "Retrieve detailed information about a specific file including processing status\n    and metadata about generated documents. File must belong to the authenticated project.",
        "operationId": "get_file_v1_rag_files__file_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "RAG Files"
        ],
        "summary": "Delete File",
        "description": "Delete a specific file by its UUID. This will also delete all associated\n    document chunks and remove the file from storage. File must belong to the authenticated project.",
        "operationId": "delete_file_v1_rag_files__file_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/rag/files/{file_id}/download": {
      "get": {
        "tags": [
          "RAG Files"
        ],
        "summary": "Download File",
        "description": "Download a file by its ID with appropriate headers for browser download.\n\n    Downloads the original file content with proper Content-Type, Content-Disposition,\n    and other headers for browser compatibility. The file must belong to the authenticated project.\n\n    Security features:\n    - Validates file belongs to authenticated project\n    - Prevents unauthorized access to files\n    - Verifies file exists and is not deleted\n    - Supports Unicode filenames with proper encoding",
        "operationId": "download_file_v1_rag_files__file_id__download_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File content",
            "content": {
              "application/json": {
                "schema": {

                }
              },
              "application/octet-stream": {

              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication"
          },
          "403": {
            "description": "Forbidden - file doesn't belong to user's project"
          },
          "404": {
            "description": "File not found or not accessible"
          },
          "500": {
            "description": "Internal server error - file system error"
          },
          "502": {
            "description": "Bad Gateway - RAG service unavailable"
          },
          "504": {
            "description": "Gateway Timeout - RAG service timeout"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/models": {
      "post": {
        "tags": [
          "AI Models"
        ],
        "summary": "List Ai Models",
        "description": "Fetch available models from a provider API.\n\nThis endpoint calls the provider's API directly to get the current list\nof available models. If api_key is not provided, returns default/common\nmodels for the specified provider.\n\n**Use Case**: Call this endpoint before creating an AIProvider to let\nusers select which models they want to use.",
        "operationId": "list_ai_models_v1_ai_models_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "model_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(chat|embedding)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by model type",
              "title": "Model Type"
            },
            "description": "Filter by model type"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ModelListRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/teams/default": {
      "get": {
        "tags": [
          "AI Teams"
        ],
        "summary": "Get Default Team",
        "description": "Get the default team for the authenticated project.\n    \n    Returns the team marked as default for this project, including associated agents\n    with their tools and collections. Returns 404 if no default team is configured.",
        "operationId": "get_default_team_v1_ai_teams_default_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "include_agents",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include associated agents with tools and collections in the response",
              "default": true,
              "title": "Include Agents"
            },
            "description": "Include associated agents with tools and collections in the response"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamWithDetailsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/teams": {
      "get": {
        "tags": [
          "AI Teams"
        ],
        "summary": "List Teams",
        "description": "List teams for the authenticated project with filtering and pagination.\n    \n    Teams are used to organize AI agents and define shared configurations like LLM models\n    and system instructions. All results are automatically scoped to the authenticated project.",
        "operationId": "list_teams_v1_ai_teams_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "is_default",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by default team status",
              "title": "Is Default"
            },
            "description": "Filter by default team status"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of teams to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of teams to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of teams to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of teams to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AI Teams"
        ],
        "summary": "Create Team",
        "description": "Create a new team within the authenticated project for organizing AI agents.\n    \n    Teams define shared configurations like LLM models, system instructions, and expected output formats.\n    Only one default team is allowed per project. Team is automatically scoped to the authenticated project.",
        "operationId": "create_team_v1_ai_teams_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/teams/{team_id}": {
      "get": {
        "tags": [
          "AI Teams"
        ],
        "summary": "Get Team",
        "description": "Retrieve detailed information about a specific team including associated agents\n    with their tools and collections. Team must belong to the authenticated project.",
        "operationId": "get_team_v1_ai_teams__team_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Team Id"
            }
          },
          {
            "name": "include_agents",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include associated agents with tools and collections in the response",
              "default": true,
              "title": "Include Agents"
            },
            "description": "Include associated agents with tools and collections in the response"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamWithDetailsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "AI Teams"
        ],
        "summary": "Update Team",
        "description": "Update team configuration, instructions, model, or settings.\n    \n    Setting is_default=true will unset other default teams as only one default team\n    is allowed per project. Team must belong to the authenticated project.",
        "operationId": "update_team_v1_ai_teams__team_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Team Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Teams"
        ],
        "summary": "Delete Team",
        "description": "Soft delete a team by its UUID. Associated agents will have their team_id set to null\n    but will remain active. Team must belong to the authenticated project.",
        "operationId": "delete_team_v1_ai_teams__team_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "team_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Team Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/agents": {
      "get": {
        "tags": [
          "AI Agents"
        ],
        "summary": "List Agents",
        "description": "Retrieve all AI agents for the authenticated project with filtering and pagination.\n    \n    Agents are AI entities that can be configured with specific models, instructions, and tools.\n    All results are automatically scoped to the authenticated project.",
        "operationId": "list_agents_v1_ai_agents_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "team_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by team ID",
              "title": "Team Id"
            },
            "description": "Filter by team ID"
          },
          {
            "name": "model",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by model name (e.g., gpt-4)",
              "title": "Model"
            },
            "description": "Filter by model name (e.g., gpt-4)"
          },
          {
            "name": "is_default",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by default agent status",
              "title": "Is Default"
            },
            "description": "Filter by default agent status"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of agents to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of agents to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of agents to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of agents to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Create Agent",
        "description": "Create a new AI agent within the authenticated project.\n    \n    Agents can be configured with specific LLM models, system instructions, and tool bindings.\n    Only one default agent is allowed per project. Agent is automatically scoped to the authenticated project.",
        "operationId": "create_agent_v1_ai_agents_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Resource already exists or conflict with current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/agents/{agent_id}": {
      "get": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Get Agent",
        "description": "Retrieve detailed information about a specific AI agent including tool bindings\n    and collection access if requested. Agent must belong to the authenticated project.",
        "operationId": "get_agent_v1_ai_agents__agent_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          },
          {
            "name": "include_tools",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include tool bindings in the response",
              "default": true,
              "title": "Include Tools"
            },
            "description": "Include tool bindings in the response"
          },
          {
            "name": "include_collections",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include collection bindings in the response",
              "default": false,
              "title": "Include Collections"
            },
            "description": "Include collection bindings in the response"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentWithDetailsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Update Agent",
        "description": "Update AI agent configuration, tools, or settings.\n    \n    You can modify agent name, instruction, model, team association, tool bindings,\n    and default agent status. Agent must belong to the authenticated project.",
        "operationId": "update_agent_v1_ai_agents__agent_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Delete Agent",
        "description": "Soft delete an AI agent by its UUID. The agent will be marked as deleted but\n    preserved for audit purposes. Agent must belong to the authenticated project.",
        "operationId": "delete_agent_v1_ai_agents__agent_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/agents/{agent_id}/tools/{tool_id}/enabled": {
      "patch": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Set Agent Tool Enabled",
        "description": "Enable or disable a specific tool binding for an agent.\n\n    This allows you to toggle individual tool bindings without modifying the entire agent configuration.\n    Agent and tool binding must belong to the authenticated project.",
        "operationId": "set_agent_tool_enabled_v1_ai_agents__agent_id__tools__tool_id__enabled_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          },
          {
            "name": "tool_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tool Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleEnabledRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/agents/{agent_id}/collections/{collection_id}/enabled": {
      "patch": {
        "tags": [
          "AI Agents"
        ],
        "summary": "Set Agent Collection Enabled",
        "description": "Enable or disable a specific collection binding for an agent.\n\n    This allows you to toggle individual collection bindings without modifying the entire agent configuration.\n    Agent and collection binding must belong to the authenticated project.",
        "operationId": "set_agent_collection_enabled_v1_ai_agents__agent_id__collections__collection_id__enabled_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Agent Id"
            }
          },
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleEnabledRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - Invalid request data or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Access denied to resource",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/runs/cancel-by-client": {
      "post": {
        "tags": [
          "AI Runs"
        ],
        "summary": "Cancel Supervisor Run by client_msg_no",
        "description": "Cancel a running supervisor agent execution by client_msg_no. If the run has not yet started (run_id unknown), the cancellation will be queued and sent immediately on start.",
        "operationId": "cancel_by_client_no_v1_ai_runs_cancel_by_client_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelByClientNoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Cancel By Client No V1 Ai Runs Cancel By Client Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/runs/cancel": {
      "post": {
        "tags": [
          "AI Runs"
        ],
        "summary": "Cancel Supervisor Run by client_msg_no (Staff)",
        "description": "Cancel a running supervisor agent execution by client_msg_no. This endpoint is for staff (customer service agents) and requires JWT authentication. If the run has not yet started (run_id unknown), the cancellation will be queued and sent immediately on start.",
        "operationId": "cancel_run_by_staff_v1_ai_runs_cancel_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StaffCancelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Cancel Run By Staff V1 Ai Runs Cancel Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/ai/tools": {
      "get": {
        "tags": [
          "AI Tools"
        ],
        "summary": "List Tools",
        "description": "List tools for the current project.\n\nProxies to AI service endpoint: GET /api/v1/tools",
        "operationId": "list_tools_v1_ai_tools_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tool_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ToolType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tool type",
              "title": "Tool Type"
            },
            "description": "Filter by tool type"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted tools",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted tools"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ToolResponse"
                  },
                  "title": "Response List Tools V1 Ai Tools Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AI Tools"
        ],
        "summary": "Create Tool",
        "description": "Create a new tool for the current project.\n\nProxies to AI service endpoint: POST /api/v1/tools",
        "operationId": "create_tool_v1_ai_tools_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/ai/tools/{tool_id}": {
      "patch": {
        "tags": [
          "AI Tools"
        ],
        "summary": "Update Tool",
        "description": "Update an existing tool.\n\nProxies to AI service endpoint: PATCH /api/v1/tools/{tool_id}",
        "operationId": "update_tool_v1_ai_tools__tool_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tool_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tool Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Tools"
        ],
        "summary": "Delete Tool",
        "description": "Delete a tool (soft delete).\n\nProxies to AI service endpoint: DELETE /api/v1/tools/{tool_id}",
        "operationId": "delete_tool_v1_ai_tools__tool_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tool_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tool Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/wukongim/route": {
      "get": {
        "tags": [
          "WuKongIM"
        ],
        "summary": "Get WuKongIM WebSocket Connection Address",
        "description": "Get the WebSocket long connection address for a user from WuKongIM service. This endpoint does not require authentication and can be used by both staff and visitors.",
        "operationId": "get_wukongim_route_v1_wukongim_route_get",
        "parameters": [
          {
            "name": "uid",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Uid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WuKongIMRouteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/integrations/wukongim/webhook": {
      "post": {
        "tags": [
          "WuKongIM Webhook"
        ],
        "summary": "Wukongim Webhook",
        "description": "Handle WuKongIM webhook callbacks.",
        "operationId": "wukongim_webhook_v1_integrations_wukongim_webhook_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Wukongim Webhook V1 Integrations Wukongim Webhook Post"
                }
              }
            }
          }
        }
      }
    },
    "/v1/diagnostics/kafka-consumers": {
      "get": {
        "tags": [
          "Diagnostics"
        ],
        "summary": "Kafka Consumer Status",
        "description": "Get status of all Kafka consumer tasks for debugging.",
        "operationId": "kafka_consumer_status_v1_diagnostics_kafka_consumers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Kafka Consumer Status V1 Diagnostics Kafka Consumers Get"
                }
              }
            }
          }
        }
      }
    },
    "/v1/email/test-connection": {
      "post": {
        "tags": [
          "Email"
        ],
        "summary": "Test Email Server Connection",
        "description": "Test SMTP and IMAP server connections with the provided credentials.\n\n    This endpoint validates email server configurations by attempting to:\n    1. Connect to the SMTP server and authenticate\n    2. Connect to the IMAP server and authenticate\n\n    Both tests are performed independently, and detailed results are returned for each.\n\n    **Security Notes:**\n    - Credentials are not stored or logged\n    - Connection timeout is set to 30 seconds\n    - This endpoint requires authentication\n\n    **Common Port Configurations:**\n    - SMTP: 587 (TLS), 465 (SSL), 25 (TLS)\n    - IMAP: 993 (SSL), 143 (no SSL)",
        "operationId": "test_email_connection_v1_email_test_connection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailConnectionTestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailConnectionTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/chat/completion": {
      "post": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "Stream chat completion responses",
        "description": "Streaming chat completion endpoint.\n\n- Auth: Platform API key in request payload (api_key)\n- Behavior: Publishes message to Kafka and streams AI events over SSE\n- Output: Server-Sent Events (SSE) with tokens and a final complete event",
        "operationId": "chat_completion_v1_chat_completion_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/messages/send": {
      "post": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "Send message via platform service",
        "description": "Forward a staff-authenticated outbound message to the Platform Service (`/v1/messages/send`). This endpoint enriches the payload with the platform API key and staff identifier and returns the Platform Service response.",
        "operationId": "staff_send_platform_message_v1_chat_messages_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StaffSendPlatformMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/chat/upload": {
      "post": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "Chat File Upload",
        "description": "Upload a file for a chat channel with dual authentication support.",
        "operationId": "chat_file_upload_v1_chat_upload_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_chat_file_upload_v1_chat_upload_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatFileUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/files/{file_id}": {
      "get": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "Get Chat File",
        "description": "Serve an uploaded chat file by ID.\n\n- Public access allowed by default\n- If auth is provided (JWT or platform API key), validate access to the channel",
        "operationId": "get_chat_file_v1_chat_files__file_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "File Id"
            }
          },
          {
            "name": "platform_api_key",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Platform Api Key"
            }
          },
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/completions": {
      "post": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "OpenAI-compatible chat completion",
        "description": "OpenAI ChatGPT API-compatible chat completion endpoint.\n\n    This endpoint provides a fully compatible interface with OpenAI's ChatGPT API,\n    allowing seamless integration with existing OpenAI client libraries and tools.\n\n    **Authentication**: Use Platform API Key via `X-Platform-API-Key` header.\n\n    **Request Format**: Compatible with OpenAI's chat completion request format.\n    See: https://platform.openai.com/docs/api-reference/chat/create\n\n    **Response Format**: Compatible with OpenAI's chat completion response format.\n    See: https://platform.openai.com/docs/api-reference/chat/object\n\n    **Streaming Support**: Set `stream=true` to receive Server-Sent Events (SSE).\n    See: https://platform.openai.com/docs/api-reference/chat/streaming",
        "operationId": "chat_completion_openai_compatible_v1_chat_completions_post",
        "parameters": [
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenAIChatCompletionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/team": {
      "post": {
        "tags": [
          "Chat",
          "Chat"
        ],
        "summary": "Staff chat with AI team or agent",
        "description": "Staff-to-team/agent chat endpoint.\n\n    This endpoint allows authenticated staff members to chat with AI teams or agents.\n    The AI response is delivered via WuKongIM to the client.\n\n    **Authentication**: JWT token required (staff authentication).\n\n    **Request**: Either `team_id` or `agent_id` must be provided (exactly one).\n\n    **Channel Format**:\n    - If `team_id` is provided: channel_id = `{team_id}-team`\n    - If `agent_id` is provided: channel_id = `{agent_id}-agent`\n\n    **Response Delivery**: AI response is sent via WuKongIM, not returned in this endpoint.\n    This endpoint only returns success/failure status after publishing to Kafka.",
        "operationId": "staff_team_chat_v1_chat_team_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StaffTeamChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StaffTeamChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/channels/info": {
      "get": {
        "tags": [
          "Channels"
        ],
        "summary": "Get Channel Info",
        "description": "Retrieve channel information for a given channel_id and channel_type.\n\nSecurity:\n- JWT staff: access to channels within the same project (existing behavior)\n- Platform API key: only staff/agent personal channels (channel_type==1 and channel_id endswith '-staff' or '-agent'),\n  and only within the same project as the platform",
        "operationId": "get_channel_info_v1_channels_info_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "channel_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Channel Id"
            }
          },
          {
            "name": "channel_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Channel Type"
            }
          },
          {
            "name": "platform_api_key",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Platform Api Key"
            }
          },
          {
            "name": "X-Platform-API-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Platform-Api-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Channel info response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelInfoResponse"
                },
                "examples": {
                  "Customer Service Channel - Visitor": {
                    "summary": "Customer Service Channel - Visitor",
                    "value": {
                      "name": "Jane Doe",
                      "avatar": "https://cdn.example.com/avatars/jane.png",
                      "channel_id": "AbC62xyz",
                      "channel_type": 251,
                      "entity_type": "visitor",
                      "extra": {
                        "id": "550e8400-e29b-41d4-a716-446655440000",
                        "platform_id": "00000000-0000-0000-0000-000000000001",
                        "platform_type": "website",
                        "name": "Jane Doe",
                        "is_online": true
                      }
                    }
                  },
                  "Personal Channel - Staff": {
                    "summary": "Personal Channel - Staff",
                    "value": {
                      "name": "Alice Support",
                      "avatar": "https://cdn.example.com/avatars/alice.png",
                      "channel_id": "7b7d3d6e-8a7d-4a23-9a2f-1f1c9c7f8f00-staff",
                      "channel_type": 1,
                      "entity_type": "staff",
                      "extra": {
                        "staff_id": "7b7d3d6e-8a7d-4a23-9a2f-1f1c9c7f8f00",
                        "username": "support.alice",
                        "role": "user"
                      }
                    }
                  },
                  "Personal Channel - Agent": {
                    "summary": "Personal Channel - Agent",
                    "value": {
                      "name": "Customer Support Agent",
                      "avatar": "",
                      "channel_id": "a1b2c3d4-5678-90ab-cdef-1234567890ab-agent",
                      "channel_type": 1,
                      "entity_type": "agent",
                      "extra": {
                        "id": "a1b2c3d4-5678-90ab-cdef-1234567890ab",
                        "name": "Customer Support Agent",
                        "instruction": "You are a helpful customer support agent...",
                        "model": "gpt-4",
                        "is_default": true,
                        "config": {
                          "temperature": 0.7
                        },
                        "tools": [],
                        "collections": []
                      }
                    }
                  },
                  "Personal Channel - Team": {
                    "summary": "Personal Channel - Team",
                    "value": {
                      "name": "Customer Support Team",
                      "avatar": "",
                      "channel_id": "b2c3d4e5-6789-01ab-cdef-234567890abc-team",
                      "channel_type": 1,
                      "entity_type": "team",
                      "extra": {
                        "id": "b2c3d4e5-6789-01ab-cdef-234567890abc",
                        "name": "Customer Support Team",
                        "instruction": "You are a customer support team...",
                        "model": "gpt-4",
                        "is_default": true,
                        "agents": []
                      }
                    }
                  },
                  "Personal Channel - Visitor": {
                    "summary": "Personal Channel - Visitor",
                    "value": {
                      "name": "John Smith",
                      "avatar": "https://cdn.example.com/avatars/john.png",
                      "channel_id": "3f2504e0-4f89-11d3-9a0c-0305e82c3301",
                      "channel_type": 1,
                      "entity_type": "visitor",
                      "extra": {
                        "id": "3f2504e0-4f89-11d3-9a0c-0305e82c3301",
                        "platform_id": "00000000-0000-0000-0000-000000000002",
                        "platform_type": "wechat",
                        "name": "John Smith",
                        "is_online": false
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/search": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Unified search across visitors and messages",
        "description": "Search visitor profiles stored in TGO and historical chat messages in WuKongIM. Set scope to filter results to visitors or messages only.",
        "operationId": "unified_search_v1_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "description": "Keyword used to match visitor fields or message content",
              "title": "Q"
            },
            "description": "Keyword used to match visitor fields or message content"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/SearchScope",
              "description": "Search scope: all, visitors, or messages",
              "default": "all"
            },
            "description": "Search scope: all, visitors, or messages"
          },
          {
            "name": "visitor_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Visitor result page number (1-indexed)",
              "default": 1,
              "title": "Visitor Page"
            },
            "description": "Visitor result page number (1-indexed)"
          },
          {
            "name": "visitor_page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of visitor records per page",
              "default": 10,
              "title": "Visitor Page Size"
            },
            "description": "Number of visitor records per page"
          },
          {
            "name": "message_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Message result page number (1-indexed)",
              "default": 1,
              "title": "Message Page"
            },
            "description": "Message result page number (1-indexed)"
          },
          {
            "name": "message_page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of message records per page",
              "default": 20,
              "title": "Message Page Size"
            },
            "description": "Number of message records per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/system/info": {
      "get": {
        "tags": [
          "System",
          "System"
        ],
        "summary": "Get System Info",
        "description": "Return basic system version and environment information.\n\nThis endpoint is intentionally unauthenticated so that external systems\ncan quickly inspect the running version/environment for diagnostics.",
        "operationId": "get_system_info_v1_system_info_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AICollectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "title": "Display Name",
            "description": "Human-readable collection name",
            "examples": [
              "Product Documentation"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description",
            "examples": [
              "Documentation for all product features and APIs"
            ]
          },
          "collection_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Metadata",
            "description": "Collection metadata (embedding model, chunk size, etc.)",
            "examples": [
              {
                "chunk_size": 1000,
                "embedding_model": "text-embedding-ada-002"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "display_name",
          "created_at",
          "updated_at"
        ],
        "title": "AICollectionResponse",
        "description": "Schema for collection API responses in AI service context."
      },
      "AIProviderCreate": {
        "properties": {
          "provider": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Provider",
            "description": "Provider key (e.g., openai, anthropic, dashscope, azure_openai)"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Display name / alias shown in UI"
          },
          "api_base_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Base Url",
            "description": "Base URL for the provider API (if applicable)"
          },
          "available_models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Models",
            "description": "List of available model identifiers for this provider (max 50)"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model",
            "description": "Default model identifier to use"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Additional provider-specific configuration"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this provider configuration is enabled",
            "default": true
          },
          "api_key": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Api Key",
            "description": "API key/credential used to call the provider"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "name",
          "api_key"
        ],
        "title": "AIProviderCreate",
        "description": "Schema for creating an AI provider."
      },
      "AIProviderListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/AIProviderResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of AI providers"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "AIProviderListResponse",
        "description": "Paginated list response for AI providers."
      },
      "AIProviderResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "provider": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Provider",
            "description": "Provider key (e.g., openai, anthropic, dashscope, azure_openai)"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Display name / alias shown in UI"
          },
          "api_base_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Base Url",
            "description": "Base URL for the provider API (if applicable)"
          },
          "available_models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Models",
            "description": "List of available model identifiers for this provider (max 50)"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model",
            "description": "Default model identifier to use"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Additional provider-specific configuration"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this provider configuration is enabled",
            "default": true
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "AI Provider ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "has_api_key": {
            "type": "boolean",
            "title": "Has Api Key",
            "description": "Whether secret is set"
          },
          "api_key_masked": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Masked",
            "description": "Masked API key, only last 4 visible"
          },
          "last_synced_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Synced At",
            "description": "Last time synced to tgo-ai"
          },
          "sync_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Status",
            "description": "Sync status: pending|synced|failed"
          },
          "sync_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Error",
            "description": "Last sync error message"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "provider",
          "name",
          "id",
          "project_id",
          "has_api_key"
        ],
        "title": "AIProviderResponse",
        "description": "Public response model for AI provider (secrets masked)."
      },
      "AIProviderUpdate": {
        "properties": {
          "provider": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          },
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "api_base_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Base Url"
          },
          "available_models": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Available Models"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "AIProviderUpdate",
        "description": "Schema for updating an AI provider."
      },
      "AgentCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Agent name",
            "examples": [
              "Customer Support Agent"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Agent system instruction",
            "examples": [
              "You are a helpful customer support agent..."
            ]
          },
          "model": {
            "type": "string",
            "maxLength": 150,
            "title": "Model",
            "description": "LLM model name (no provider prefix), e.g., 'gpt-4', 'claude-3-sonnet-20240229'",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default agent (only one per project)",
            "default": false
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Agent configuration (temperature, max_tokens, etc.)",
            "examples": [
              {
                "max_tokens": 2000,
                "temperature": 0.7
              }
            ]
          },
          "team_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Team Id",
            "description": "Team ID to associate the agent with (optional)"
          },
          "ai_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider Id",
            "description": "AIProvider ID (credentials) to use for this agent"
          },
          "tools": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AgentToolCreateRequest"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools",
            "description": "Tools to bind to the agent"
          },
          "collections": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collections",
            "description": "Collection IDs to associate with the agent (UUID strings)",
            "examples": [
              [
                "123e4567-e89b-12d3-a456-426614174000",
                "987fcdeb-51a2-43d1-9f6e-123456789abc"
              ]
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "model"
        ],
        "title": "AgentCreateRequest",
        "description": "Schema for creating a new agent."
      },
      "AgentListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/AgentWithDetailsResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of items"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "AgentListResponse",
        "description": "Paginated response model for agent list endpoint with detailed agent information."
      },
      "AgentResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Agent name",
            "examples": [
              "Customer Support Agent"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Agent system instruction",
            "examples": [
              "You are a helpful customer support agent..."
            ]
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "LLM model name (no provider prefix)",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default agent (only one per project)",
            "default": false
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Agent configuration (temperature, max_tokens, etc.)",
            "examples": [
              {
                "max_tokens": 2000,
                "temperature": 0.7
              }
            ]
          },
          "team_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Team Id",
            "description": "Associated team ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "AgentResponse",
        "description": "Schema for agent API responses."
      },
      "AgentToolCreateRequest": {
        "properties": {
          "tool_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tool Id",
            "description": "Tool ID (UUID) to bind to the agent",
            "examples": [
              "123e4567-e89b-12d3-a456-426614174000"
            ]
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether tool is enabled for this agent",
            "default": true
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "Tool permissions array",
            "examples": [
              [
                "read",
                "write"
              ]
            ]
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Tool-specific configuration",
            "examples": [
              {
                "api_endpoint": "https://api.search.com",
                "timeout": 30
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "tool_id"
        ],
        "title": "AgentToolCreateRequest",
        "description": "Schema for creating agent tool bindings."
      },
      "AgentToolResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Project ID that owns the tool"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional tool description"
          },
          "tool_type": {
            "type": "string",
            "title": "Tool Type",
            "description": "Tool type (MCP | FUNCTION)"
          },
          "transport_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transport Type",
            "description": "Transport type (e.g., http, stdio, sse)"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint",
            "description": "Endpoint URL or path"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Tool configuration JSON object"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether tool is enabled for this agent",
            "default": true
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "Tool permissions array for this agent"
          },
          "agent_tool_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Tool Config",
            "description": "Agent-specific tool configuration (overrides tool's default config)"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "project_id",
          "name",
          "tool_type"
        ],
        "title": "AgentToolResponse",
        "description": "Schema for agent tool API responses (AgentToolDetail from AI service)."
      },
      "AgentUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated agent name"
          },
          "team_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Team Id",
            "description": "Updated team ID (set to null to remove from team)"
          },
          "ai_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider Id",
            "description": "AIProvider ID (credentials) to use or update for this agent"
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Updated system instruction"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Updated LLM model name (no provider prefix)"
          },
          "is_default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Default",
            "description": "Updated default status"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Updated agent configuration"
          },
          "tools": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/AgentToolCreateRequest"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools",
            "description": "Updated tools to bind to the agent"
          },
          "collections": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collections",
            "description": "Updated collection IDs to associate with the agent (UUID strings). Replaces existing associations.",
            "examples": [
              [
                "123e4567-e89b-12d3-a456-426614174000",
                "987fcdeb-51a2-43d1-9f6e-123456789abc"
              ]
            ]
          }
        },
        "type": "object",
        "title": "AgentUpdateRequest",
        "description": "Schema for updating an existing agent."
      },
      "AgentWithDetailsResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Agent name",
            "examples": [
              "Customer Support Agent"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Agent system instruction",
            "examples": [
              "You are a helpful customer support agent..."
            ]
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "LLM model name (no provider prefix)",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default agent (only one per project)",
            "default": false
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Agent configuration (temperature, max_tokens, etc.)",
            "examples": [
              {
                "max_tokens": 2000,
                "temperature": 0.7
              }
            ]
          },
          "team_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Team Id",
            "description": "Associated team ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          },
          "tools": {
            "items": {
              "$ref": "#/components/schemas/AgentToolResponse"
            },
            "type": "array",
            "title": "Tools",
            "description": "Tools bound to this agent"
          },
          "collections": {
            "items": {
              "$ref": "#/components/schemas/AICollectionResponse"
            },
            "type": "array",
            "title": "Collections",
            "description": "Collections accessible to this agent"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "AgentWithDetailsResponse",
        "description": "Schema for agent response with additional details."
      },
      "AssignmentCreate": {
        "properties": {
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Visitor to assign"
          },
          "assigned_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Staff Id",
            "description": "Staff member to assign (null for unassign)"
          },
          "previous_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Staff Id",
            "description": "Previously assigned staff member (for reassign)"
          },
          "assigned_by_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned By Staff Id",
            "description": "Staff member making the assignment"
          },
          "assignment_type": {
            "$ref": "#/components/schemas/AssignmentType",
            "description": "Type of assignment operation"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Assignment notes"
          }
        },
        "type": "object",
        "required": [
          "visitor_id",
          "assignment_type"
        ],
        "title": "AssignmentCreate",
        "description": "Schema for creating an assignment."
      },
      "AssignmentListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/AssignmentResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of assignments"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "AssignmentListResponse",
        "description": "Schema for assignment list response."
      },
      "AssignmentResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Visitor to assign"
          },
          "assigned_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Staff Id",
            "description": "Staff member to assign (null for unassign)"
          },
          "previous_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Staff Id",
            "description": "Previously assigned staff member (for reassign)"
          },
          "assigned_by_staff_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned By Staff Id",
            "description": "Staff member making the assignment"
          },
          "assignment_type": {
            "$ref": "#/components/schemas/AssignmentType",
            "description": "Type of assignment operation"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Assignment notes"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Assignment ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When assignment was made"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "visitor_id",
          "assignment_type",
          "id",
          "project_id",
          "timestamp"
        ],
        "title": "AssignmentResponse",
        "description": "Schema for assignment response."
      },
      "AssignmentType": {
        "type": "string",
        "enum": [
          "assign",
          "reassign",
          "unassign",
          "auto_assign"
        ],
        "title": "AssignmentType",
        "description": "Assignment type enumeration."
      },
      "AssignmentUpdate": {
        "properties": {
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Updated assignment notes"
          }
        },
        "type": "object",
        "title": "AssignmentUpdate",
        "description": "Schema for updating an assignment."
      },
      "BatchFileUploadResponse": {
        "properties": {
          "summary": {
            "$ref": "#/components/schemas/BatchUploadSummary",
            "description": "Batch upload summary statistics"
          },
          "successful_uploads": {
            "items": {
              "$ref": "#/components/schemas/FileUploadResponse"
            },
            "type": "array",
            "title": "Successful Uploads",
            "description": "List of successfully uploaded files"
          },
          "failed_uploads": {
            "items": {
              "$ref": "#/components/schemas/FileUploadError"
            },
            "type": "array",
            "title": "Failed Uploads",
            "description": "List of failed uploads with error details"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Overall batch status message",
            "examples": [
              "Batch upload completed: 4 successful, 1 failed"
            ]
          }
        },
        "type": "object",
        "required": [
          "summary",
          "successful_uploads",
          "failed_uploads",
          "message"
        ],
        "title": "BatchFileUploadResponse",
        "description": "Schema for batch file upload responses."
      },
      "BatchUploadSummary": {
        "properties": {
          "total_files": {
            "type": "integer",
            "title": "Total Files",
            "description": "Total number of files in the batch"
          },
          "successful_uploads": {
            "type": "integer",
            "title": "Successful Uploads",
            "description": "Number of successfully uploaded files"
          },
          "failed_uploads": {
            "type": "integer",
            "title": "Failed Uploads",
            "description": "Number of failed uploads"
          },
          "total_size": {
            "type": "integer",
            "title": "Total Size",
            "description": "Total size of all files in bytes"
          }
        },
        "type": "object",
        "required": [
          "total_files",
          "successful_uploads",
          "failed_uploads",
          "total_size"
        ],
        "title": "BatchUploadSummary",
        "description": "Schema for batch upload summary statistics."
      },
      "Body_chat_file_upload_v1_chat_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type"
          },
          "platform_api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Api Key"
          }
        },
        "type": "object",
        "required": [
          "file",
          "channel_id",
          "channel_type"
        ],
        "title": "Body_chat_file_upload_v1_chat_upload_post"
      },
      "Body_login_staff_v1_staff_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_staff_v1_staff_login_post"
      },
      "Body_upload_file_v1_rag_files_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "File to upload for RAG processing"
          },
          "collection_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Id",
            "description": "Collection ID to associate with the file"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional file description"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "Document language (ISO 639-1 code)"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated list of tags"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_file_v1_rag_files_post"
      },
      "Body_upload_files_batch_v1_rag_files_batch_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files",
            "description": "List of files to upload for RAG processing"
          },
          "collection_id": {
            "type": "string",
            "format": "uuid",
            "title": "Collection Id",
            "description": "Collection ID to associate with all files"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description applied to all files"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "Document language (ISO 639-1 code) applied to all files"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated list of tags applied to all files"
          }
        },
        "type": "object",
        "required": [
          "files",
          "collection_id"
        ],
        "title": "Body_upload_files_batch_v1_rag_files_batch_post"
      },
      "Body_upload_platform_logo_v1_platforms__platform_id__logo_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_platform_logo_v1_platforms__platform_id__logo_post"
      },
      "Body_upload_visitor_avatar_v1_visitors__visitor_id__avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Avatar image file"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_visitor_avatar_v1_visitors__visitor_id__avatar_post"
      },
      "CancelByClientNoRequest": {
        "properties": {
          "platform_api_key": {
            "type": "string",
            "title": "Platform Api Key",
            "description": "Platform API key (visitor-facing authentication)"
          },
          "client_msg_no": {
            "type": "string",
            "title": "Client Msg No",
            "description": "Correlation ID used in streaming, i.e., client_msg_no"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for cancellation (for auditing)"
          }
        },
        "type": "object",
        "required": [
          "platform_api_key",
          "client_msg_no"
        ],
        "title": "CancelByClientNoRequest",
        "description": "Request body for visitor-facing cancel endpoint (platform API key auth)."
      },
      "ChannelInfoResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Channel display name"
          },
          "avatar": {
            "type": "string",
            "title": "Avatar",
            "description": "Channel avatar URL"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "WuKongIM channel identifier"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type: 1 (personal), 251 (customer service)"
          },
          "entity_type": {
            "type": "string",
            "enum": [
              "visitor",
              "staff",
              "agent",
              "team"
            ],
            "title": "Entity Type",
            "description": "Entity type represented by this channel: 'visitor', 'staff', 'agent', or 'team'"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra",
            "description": "Scenario 1  Customer Service Channel (channel_type == 251):\n- extra contains the complete VisitorResponse as a dictionary.\n\nScenario 2  Personal Channel - Staff (channel_type == 1 AND channel_id ends with '-staff'):\n- extra contains staff metadata: staff_id, username, role.\n\nScenario 3  Personal Channel - Agent (channel_type == 1 AND channel_id ends with '-agent'):\n- extra contains agent metadata from AI service: id, name, instruction, model, is_default, config, team_id, tools, collections.\n\nScenario 4  Personal Channel - Team (channel_type == 1 AND channel_id ends with '-team'):\n- extra contains team metadata from AI service: id, name, model, instruction, expected_output, is_default, agents.\n\nScenario 5  Personal Channel - Visitor (channel_type == 1 AND channel_id does NOT end with '-staff', '-agent', or '-team'):\n- Same as Scenario 1: extra contains the complete VisitorResponse as a dictionary.",
            "examples": [
              {
                "id": "550e8400-e29b-41d4-a716-446655440000",
                "is_online": true,
                "name": "Jane Doe",
                "platform_id": "00000000-0000-0000-0000-000000000001",
                "platform_type": "website"
              },
              {
                "role": "user",
                "staff_id": "7b7d3d6e-8a7d-4a23-9a2f-1f1c9c7f8f00",
                "username": "support.alice"
              },
              {
                "collections": [],
                "id": "a1b2c3d4-5678-90ab-cdef-1234567890ab",
                "is_default": true,
                "model": "gpt-4",
                "name": "Customer Support Agent",
                "tools": []
              },
              {
                "agents": [],
                "id": "b2c3d4e5-6789-01ab-cdef-234567890abc",
                "is_default": true,
                "model": "gpt-4",
                "name": "Customer Support Team"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "avatar",
          "channel_id",
          "channel_type",
          "entity_type"
        ],
        "title": "ChannelInfoResponse"
      },
      "ChatCompletionRequest": {
        "properties": {
          "api_key": {
            "type": "string",
            "title": "Api Key"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "from_uid": {
            "type": "string",
            "title": "From Uid"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Seconds",
            "default": 120
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id"
          },
          "channel_type": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Type"
          },
          "system_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Message",
            "description": "System message/prompt to guide the AI agent"
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Expected output format or description for the AI agent"
          }
        },
        "type": "object",
        "required": [
          "api_key",
          "message",
          "from_uid"
        ],
        "title": "ChatCompletionRequest",
        "description": "Request payload for streaming chat completion.\n\nNotes:\n- api_key refers to the Platform API key used by the client integration\n- from_uid identifies the end-user on the client platform\n- message is the chat input to be completed by AI\n- timeout_seconds bounds the SSE stream duration"
      },
      "ChatFileUploadResponse": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "UUID of the uploaded file record"
          },
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "Original filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "MIME type"
          },
          "file_url": {
            "type": "string",
            "title": "File Url",
            "description": "URL to access the file (e.g., /v1/chat/files/{file_id})"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel identifier"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type code"
          },
          "uploaded_at": {
            "type": "string",
            "format": "date-time",
            "title": "Uploaded At",
            "description": "Upload timestamp"
          },
          "uploaded_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uploaded By",
            "description": "Staff username or 'visitor'"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "file_name",
          "file_size",
          "file_type",
          "file_url",
          "channel_id",
          "channel_type",
          "uploaded_at"
        ],
        "title": "ChatFileUploadResponse",
        "description": "Response for chat file upload."
      },
      "CollectionCreateRequest": {
        "properties": {
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name",
            "description": "Human-readable collection name",
            "examples": [
              "Product Documentation v2.1"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional collection description",
            "examples": [
              "Updated product documentation for RAG knowledge base"
            ]
          },
          "collection_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Metadata",
            "description": "Collection metadata (embedding model, chunk size, etc.)",
            "examples": [
              {
                "chunk_overlap": 200,
                "chunk_size": 1000,
                "embedding_model": "text-embedding-ada-002",
                "language": "en"
              }
            ]
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Collection tags for categorization and filtering",
            "examples": [
              [
                "documentation",
                "product",
                "v2.1"
              ]
            ]
          }
        },
        "type": "object",
        "required": [
          "display_name"
        ],
        "title": "CollectionCreateRequest",
        "description": "Schema for creating a new collection."
      },
      "CollectionDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Collection unique identifier",
            "examples": [
              "coll_123e4567-e89b-12d3-a456-426614174000"
            ]
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable collection name",
            "examples": [
              "Product Documentation v2.1"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description",
            "examples": [
              "Updated product documentation for RAG knowledge base"
            ]
          },
          "collection_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Metadata",
            "description": "Collection metadata",
            "examples": [
              {
                "chunk_overlap": 200,
                "chunk_size": 1000,
                "embedding_model": "text-embedding-ada-002",
                "language": "en"
              }
            ]
          },
          "file_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Count",
            "description": "Number of files in collection",
            "default": 0
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Collection tags for categorization and filtering",
            "examples": [
              [
                "documentation",
                "product",
                "v2.1"
              ]
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Collection creation timestamp",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Collection last update timestamp",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Collection deletion timestamp (if soft deleted)"
          },
          "stats": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CollectionStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Collection statistics (when include_stats=true)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "display_name",
          "created_at",
          "updated_at"
        ],
        "title": "CollectionDetailResponse",
        "description": "Schema for detailed collection response with optional statistics."
      },
      "CollectionListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CollectionResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of collections"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "CollectionListResponse",
        "description": "Schema for paginated collection list responses."
      },
      "CollectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Collection unique identifier",
            "examples": [
              "coll_123e4567-e89b-12d3-a456-426614174000"
            ]
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable collection name",
            "examples": [
              "Product Documentation v2.1"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description",
            "examples": [
              "Updated product documentation for RAG knowledge base"
            ]
          },
          "collection_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Metadata",
            "description": "Collection metadata",
            "examples": [
              {
                "chunk_overlap": 200,
                "chunk_size": 1000,
                "embedding_model": "text-embedding-ada-002",
                "language": "en"
              }
            ]
          },
          "file_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Count",
            "description": "Number of files in collection",
            "default": 0
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Collection tags for categorization and filtering",
            "examples": [
              [
                "documentation",
                "product",
                "v2.1"
              ]
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Collection creation timestamp",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Collection last update timestamp",
            "examples": [
              "2024-01-15T10:30:00Z"
            ]
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Collection deletion timestamp (if soft deleted)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "display_name",
          "created_at",
          "updated_at"
        ],
        "title": "CollectionResponse",
        "description": "Schema for collection API responses."
      },
      "CollectionSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Query",
            "description": "Search query text",
            "examples": [
              "How to configure database settings"
            ]
          },
          "limit": {
            "type": "integer",
            "maximum": 100,
            "minimum": 1,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 10
          },
          "offset": {
            "type": "integer",
            "minimum": 0,
            "title": "Offset",
            "description": "Number of results to skip for pagination",
            "default": 0
          },
          "min_score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Min Score",
            "description": "Minimum relevance score threshold (0-1)",
            "default": 0
          },
          "filters": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filters",
            "description": "Additional filters to apply to search results",
            "examples": [
              {
                "content_type": [
                  "paragraph",
                  "heading"
                ],
                "language": "en",
                "min_confidence": 0.8,
                "tags": {
                  "section": "installation"
                }
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "CollectionSearchRequest",
        "description": "Schema for collection-scoped search requests."
      },
      "CollectionStats": {
        "properties": {
          "document_count": {
            "type": "integer",
            "minimum": 0,
            "title": "Document Count",
            "description": "Total number of documents in collection",
            "examples": [150]
          },
          "file_count": {
            "type": "integer",
            "minimum": 0,
            "title": "File Count",
            "description": "Total number of files in collection",
            "examples": [25]
          },
          "total_tokens": {
            "type": "integer",
            "minimum": 0,
            "title": "Total Tokens",
            "description": "Total tokens across all documents",
            "examples": [45000]
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated",
            "description": "Last time a document was added/updated",
            "examples": [
              "2024-01-15T14:30:00Z"
            ]
          }
        },
        "type": "object",
        "required": [
          "document_count",
          "file_count",
          "total_tokens"
        ],
        "title": "CollectionStats",
        "description": "Schema for collection statistics."
      },
      "CollectionUpdateRequest": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "Human-readable collection name",
            "examples": [
              "Product Documentation v2.2"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description",
            "examples": [
              "Updated product documentation for RAG knowledge base with new features"
            ]
          },
          "collection_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Metadata",
            "description": "Collection metadata (embedding model, chunk size, etc.)",
            "examples": [
              {
                "chunk_overlap": 250,
                "chunk_size": 1200,
                "embedding_model": "text-embedding-ada-002",
                "language": "en"
              }
            ]
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Collection tags for categorization and filtering",
            "examples": [
              [
                "documentation",
                "product",
                "v2.2",
                "updated"
              ]
            ]
          }
        },
        "type": "object",
        "title": "CollectionUpdateRequest",
        "description": "Schema for updating an existing collection."
      },
      "ConfigureLLMRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Provider",
            "description": "Provider name (e.g., 'openai', 'anthropic', 'azure_openai', 'dashscope')"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Display name for this provider configuration"
          },
          "api_key": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Api Key",
            "description": "API key for the provider (will be encrypted)"
          },
          "api_base_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Base Url",
            "description": "Custom API base URL (optional, for proxies or custom endpoints)"
          },
          "available_models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Models",
            "description": "List of available model identifiers"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model",
            "description": "Default model to use"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this provider configuration is enabled",
            "default": true
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Additional provider-specific configuration (e.g., temperature, max_tokens)"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "name",
          "api_key"
        ],
        "title": "ConfigureLLMRequest",
        "description": "Request schema for configuring LLM provider."
      },
      "ConfigureLLMResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "AI Provider configuration ID"
          },
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "default_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Model",
            "description": "Default model"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether this configuration is enabled"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "provider",
          "name",
          "is_active",
          "project_id",
          "created_at"
        ],
        "title": "ConfigureLLMResponse",
        "description": "Response schema for LLM configuration."
      },
      "CreateAdminRequest": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username",
            "description": "Admin username (unique, used for login)"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "Admin password (will be hashed, minimum 8 characters)"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Admin display name (optional)"
          },
          "project_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Project Name",
            "description": "Name for the default project",
            "default": "Default Project"
          },
          "skip_llm_config": {
            "type": "boolean",
            "title": "Skip Llm Config",
            "description": "Whether to skip LLM configuration during setup (can be configured later)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "CreateAdminRequest",
        "description": "Request schema for creating the first admin account."
      },
      "CreateAdminResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Created admin staff ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Admin username"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Admin display name"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "project_name": {
            "type": "string",
            "title": "Project Name",
            "description": "Project name"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "project_id",
          "project_name",
          "created_at"
        ],
        "title": "CreateAdminResponse",
        "description": "Response schema for admin creation."
      },
      "EmailConnectionTestRequest": {
        "properties": {
          "smtp_host": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Smtp Host",
            "description": "SMTP server hostname or IP address",
            "examples": [
              "smtp.gmail.com",
              "smtp.office365.com"
            ]
          },
          "smtp_port": {
            "type": "integer",
            "maximum": 65535,
            "minimum": 1,
            "title": "Smtp Port",
            "description": "SMTP server port (common: 25, 465, 587)",
            "examples": [587, 465, 25]
          },
          "smtp_username": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Smtp Username",
            "description": "SMTP authentication username (usually email address)",
            "examples": [
              "user@example.com"
            ]
          },
          "smtp_password": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Smtp Password",
            "description": "SMTP authentication password"
          },
          "smtp_use_tls": {
            "type": "boolean",
            "title": "Smtp Use Tls",
            "description": "Whether to use TLS/STARTTLS for SMTP connection (recommended for ports 587, 25)",
            "default": true
          },
          "imap_host": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Imap Host",
            "description": "IMAP server hostname or IP address",
            "examples": [
              "imap.gmail.com",
              "outlook.office365.com"
            ]
          },
          "imap_port": {
            "type": "integer",
            "maximum": 65535,
            "minimum": 1,
            "title": "Imap Port",
            "description": "IMAP server port (common: 143, 993)",
            "examples": [993, 143]
          },
          "imap_username": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Imap Username",
            "description": "IMAP authentication username (usually email address)",
            "examples": [
              "user@example.com"
            ]
          },
          "imap_password": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Imap Password",
            "description": "IMAP authentication password"
          },
          "imap_use_ssl": {
            "type": "boolean",
            "title": "Imap Use Ssl",
            "description": "Whether to use SSL for IMAP connection (recommended for port 993)",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "smtp_host",
          "smtp_port",
          "smtp_username",
          "smtp_password",
          "imap_host",
          "imap_port",
          "imap_username",
          "imap_password"
        ],
        "title": "EmailConnectionTestRequest",
        "description": "Schema for testing email server connection."
      },
      "EmailConnectionTestResponse": {
        "properties": {
          "smtp_status": {
            "type": "string",
            "title": "Smtp Status",
            "description": "SMTP connection test status",
            "examples": [
              "success",
              "failed"
            ]
          },
          "smtp_message": {
            "type": "string",
            "title": "Smtp Message",
            "description": "SMTP connection test detailed message or error",
            "examples": [
              "SMTP connection successful",
              "Authentication failed: Invalid credentials"
            ]
          },
          "imap_status": {
            "type": "string",
            "title": "Imap Status",
            "description": "IMAP connection test status",
            "examples": [
              "success",
              "failed"
            ]
          },
          "imap_message": {
            "type": "string",
            "title": "Imap Message",
            "description": "IMAP connection test detailed message or error",
            "examples": [
              "IMAP connection successful",
              "Connection timeout"
            ]
          },
          "overall_success": {
            "type": "boolean",
            "title": "Overall Success",
            "description": "Whether both SMTP and IMAP connections succeeded"
          }
        },
        "type": "object",
        "required": [
          "smtp_status",
          "smtp_message",
          "imap_status",
          "imap_message",
          "overall_success"
        ],
        "title": "EmailConnectionTestResponse",
        "description": "Schema for email connection test results."
      },
      "ErrorDetail": {
        "description": "Error detail schema.",
        "properties": {
          "code": {
            "description": "Error code",
            "title": "Code",
            "type": "string"
          },
          "message": {
            "description": "Error message",
            "title": "Message",
            "type": "string"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Additional error details",
            "title": "Details"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "title": "ErrorDetail",
        "type": "object"
      },
      "ErrorResponse": {
        "description": "Error response schema.",
        "properties": {
          "error": {
            "$ref": "#/components/schemas/ErrorDetail",
            "description": "Error information"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Request ID for tracking",
            "title": "Request Id"
          }
        },
        "required": [
          "error"
        ],
        "title": "ErrorResponse",
        "type": "object"
      },
      "FileListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/FileResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of files"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "FileListResponse",
        "description": "Schema for paginated file list responses."
      },
      "FileResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "File unique identifier"
          },
          "collection_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Id",
            "description": "Associated collection ID",
            "examples": [
              "coll_123e4567-e89b-12d3-a456-426614174000"
            ]
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename",
            "description": "Original filename when uploaded",
            "examples": [
              "product_manual.pdf"
            ]
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes",
            "examples": [2048576]
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the file",
            "examples": [
              "application/pdf"
            ]
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "examples": [
              "pending",
              "processing",
              "completed",
              "failed",
              "archived"
            ]
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count",
            "description": "Number of document chunks generated",
            "examples": [25]
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "description": "Total tokens across all document chunks",
            "examples": [5000]
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "Detected or specified language",
            "examples": [
              "en",
              "es",
              "fr"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional file description"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "File tags for categorization and filtering",
            "examples": [
              [
                "document",
                "manual",
                "pdf"
              ]
            ]
          },
          "uploaded_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uploaded By",
            "description": "User who uploaded the file"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "File upload timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "File last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "original_filename",
          "file_size",
          "content_type",
          "status",
          "document_count",
          "total_tokens",
          "created_at",
          "updated_at"
        ],
        "title": "FileResponse",
        "description": "Schema for file API responses."
      },
      "FileUploadError": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Name of the file that failed"
          },
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error message"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code",
            "description": "Error code"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "error"
        ],
        "title": "FileUploadError",
        "description": "Schema for individual file upload errors."
      },
      "FileUploadResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "File unique identifier"
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename",
            "description": "Original filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Upload status message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "original_filename",
          "file_size",
          "content_type",
          "status",
          "message"
        ],
        "title": "FileUploadResponse",
        "description": "Schema for file upload responses."
      },
      "MessageSearchResult": {
        "properties": {
          "message_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Id",
            "description": "Global message identifier"
          },
          "client_msg_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Msg No",
            "description": "Client message number"
          },
          "message_seq": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Seq",
            "description": "Sequence number within channel"
          },
          "from_uid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "From Uid",
            "description": "Sender WuKongIM UID"
          },
          "channel_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Id",
            "description": "Channel identifier"
          },
          "channel_type": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Type",
            "description": "Channel type code"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "Unix timestamp (seconds)"
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload",
            "description": "Decoded message payload (base64 decoded when possible)"
          },
          "stream_data": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stream Data",
            "description": "Decoded stream data when applicable"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic",
            "description": "Message topic when available"
          },
          "preview_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preview Text",
            "description": "Short preview text extracted from payload"
          },
          "message_id_str": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Id Str",
            "description": "String representation of message_id for front-end compatibility.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "message_id_str"
        ],
        "title": "MessageSearchResult",
        "description": "Normalized result item for message search."
      },
      "ModelInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Model identifier"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Model display name"
          },
          "owned_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owned By",
            "description": "Model owner/provider"
          },
          "model_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Type",
            "description": "Model type (chat/embedding)"
          },
          "created": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "ModelInfo",
        "description": "Model information from provider API."
      },
      "ModelListRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider type (openai, anthropic, dashscope, azure, etc.)"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "API key for the provider (optional, returns default models if not provided)"
          },
          "api_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Base Url",
            "description": "Custom API base URL (optional)"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Additional provider-specific config (e.g., anthropic_version, api_version)"
          }
        },
        "type": "object",
        "required": [
          "provider"
        ],
        "title": "ModelListRequest",
        "description": "Request body for fetching models from provider."
      },
      "ModelListResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider type (openai, anthropic, etc.)"
          },
          "models": {
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            },
            "type": "array",
            "title": "Models",
            "description": "List of available models"
          },
          "is_fallback": {
            "type": "boolean",
            "title": "Is Fallback",
            "description": "True if using fallback default models (API fetch failed or returned empty)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "provider"
        ],
        "title": "ModelListResponse",
        "description": "Response for model list from provider."
      },
      "OpenAIChatCompletionRequest": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/OpenAIChatMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "A list of messages comprising the conversation so far"
          },
          "stream": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stream",
            "description": "Whether to stream partial message deltas",
            "default": false
          },
          "user": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User",
            "description": "Unique identifier representing your end-user"
          }
        },
        "type": "object",
        "required": [
          "messages"
        ],
        "title": "OpenAIChatCompletionRequest",
        "description": "Simplified chat completion request.\n\nOnly includes essential fields: messages, stream, and user."
      },
      "OpenAIChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "system",
              "user",
              "assistant",
              "function"
            ],
            "title": "Role",
            "description": "The role of the message author"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "The content of the message"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "The name of the author of this message"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "OpenAIChatMessage",
        "description": "OpenAI-compatible chat message."
      },
      "PaginationMetadata": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of items"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Number of items per page"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of items skipped"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "description": "Whether there are more items"
          },
          "has_prev": {
            "type": "boolean",
            "title": "Has Prev",
            "description": "Whether there are previous items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "limit",
          "offset",
          "has_next",
          "has_prev"
        ],
        "title": "PaginationMetadata",
        "description": "Pagination metadata for responses."
      },
      "PlatformAPIKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Platform ID"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "Newly generated API key"
          }
        },
        "type": "object",
        "required": [
          "id",
          "api_key"
        ],
        "title": "PlatformAPIKeyResponse",
        "description": "Schema for API key regeneration responses."
      },
      "PlatformCreate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Platform name (e.g., WeChat, WhatsApp)"
          },
          "type": {
            "$ref": "#/components/schemas/PlatformType",
            "description": "Platform type from predefined enum"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Platform-specific configuration"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the platform is active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "PlatformCreate",
        "description": "Schema for creating a platform."
      },
      "PlatformListItemResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Platform ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Platform name (may be null)"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Display name with fallback to platform type name",
            "default": ""
          },
          "type": {
            "$ref": "#/components/schemas/PlatformType",
            "description": "Platform type"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the platform is active"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "SVG icon markup for the platform type"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this platform"
          },
          "is_supported": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Supported",
            "description": "Whether this platform type is currently supported"
          },
          "name_en": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name En",
            "description": "English name of the platform type"
          },
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "Public URL to retrieve the platform logo via API.\n\nConstructed as: {API_BASE_URL}/v1/platforms/{platform_id}/logo\nReturns None if no logo is set.",
            "readOnly": true
          },
          "chat_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chat Url",
            "description": "Chat completion URL for custom platforms.\n\nConstructed as: {API_BASE_URL}/v1/chat/completions\nOnly returned for platforms with type='custom'.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "project_id",
          "type",
          "is_active",
          "logo_url",
          "chat_url"
        ],
        "title": "PlatformListItemResponse",
        "description": "Schema for platform list item response (without sensitive fields)."
      },
      "PlatformListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/PlatformListItemResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of platforms"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "PlatformListResponse",
        "description": "Schema for platform list response."
      },
      "PlatformResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Platform name (e.g., WeChat, WhatsApp)"
          },
          "type": {
            "$ref": "#/components/schemas/PlatformType",
            "description": "Platform type from predefined enum"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Platform-specific configuration"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the platform is active",
            "default": true
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Platform ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "Platform-specific API key for integrations"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "SVG icon markup for the platform type"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this platform"
          },
          "is_supported": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Supported",
            "description": "Whether this platform type is currently supported"
          },
          "name_en": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name En",
            "description": "English name of the platform type"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Display name with fallback to platform type name",
            "default": ""
          },
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "Public URL to retrieve the platform logo via API.\n\nConstructed as: {API_BASE_URL}/v1/platforms/{platform_id}/logo\nReturns None if no logo is set.",
            "readOnly": true
          },
          "chat_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chat Url",
            "description": "Chat completion URL for custom platforms.\n\nConstructed as: {API_BASE_URL}/v1/chat/completions\nOnly returned for platforms with type='custom'.",
            "readOnly": true
          },
          "callback_url": {
            "type": "string",
            "title": "Callback Url",
            "description": "Webhook callback URL for this platform.\n\nConstructed as: {API_BASE_URL}/v1/platforms/callback/{platform_api_key}",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "type",
          "id",
          "project_id",
          "logo_url",
          "chat_url",
          "callback_url"
        ],
        "title": "PlatformResponse",
        "description": "Schema for platform detail response (with all fields including sensitive data)."
      },
      "PlatformType": {
        "type": "string",
        "enum": [
          "website",
          "wechat",
          "whatsapp",
          "telegram",
          "email",
          "sms",
          "facebook",
          "instagram",
          "twitter",
          "linkedin",
          "discord",
          "slack",
          "teams",
          "phone",
          "douyin",
          "tiktok",
          "custom",
          "wecom"
        ],
        "title": "PlatformType",
        "description": "Platform type enumeration."
      },
      "PlatformTypeDefinitionResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Platform type definition ID"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Stable identifier (e.g., wechat, website, email)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable platform name (Chinese)"
          },
          "name_en": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name En",
            "description": "English name of the platform type"
          },
          "is_supported": {
            "type": "boolean",
            "title": "Is Supported",
            "description": "Whether this platform type is currently supported"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "SVG icon markup for display"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Localized display name based on request language",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "type",
          "name",
          "is_supported"
        ],
        "title": "PlatformTypeDefinitionResponse",
        "description": "Schema describing platform type metadata."
      },
      "PlatformUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated platform name"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PlatformType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated platform type"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Updated platform configuration"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Updated platform active status"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this platform"
          }
        },
        "type": "object",
        "title": "PlatformUpdate",
        "description": "Schema for updating a platform."
      },
      "ProjectAIConfigResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "default_chat_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Chat Provider Id",
            "description": "AIProvider ID for default chat model"
          },
          "default_chat_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Chat Model",
            "description": "Default chat model identifier"
          },
          "default_embedding_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Embedding Provider Id",
            "description": "AIProvider ID for default embedding model"
          },
          "default_embedding_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Embedding Model",
            "description": "Default embedding model identifier"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Config ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Project ID"
          },
          "last_synced_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Synced At",
            "description": "Last time synced to AI service"
          },
          "sync_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Status",
            "description": "Sync status: pending/synced/failed"
          },
          "sync_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Error",
            "description": "Last sync error message, if any"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "project_id"
        ],
        "title": "ProjectAIConfigResponse"
      },
      "ProjectAIConfigUpdate": {
        "properties": {
          "default_chat_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Chat Provider Id",
            "description": "AIProvider ID for default chat model"
          },
          "default_chat_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Chat Model",
            "description": "Default chat model identifier"
          },
          "default_embedding_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Embedding Provider Id",
            "description": "AIProvider ID for default embedding model"
          },
          "default_embedding_model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Embedding Model",
            "description": "Default embedding model identifier"
          }
        },
        "type": "object",
        "title": "ProjectAIConfigUpdate",
        "description": "Update payload for project AI config (used for upsert)."
      },
      "ProjectCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Project name"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ProjectCreate",
        "description": "Schema for creating a project."
      },
      "ProjectListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/ProjectResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of projects"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ProjectListResponse",
        "description": "Schema for project list response."
      },
      "ProjectResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Project name"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Project ID"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "API key for authentication"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "name",
          "id",
          "api_key"
        ],
        "title": "ProjectResponse",
        "description": "Schema for project response."
      },
      "ProjectUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated project name"
          }
        },
        "type": "object",
        "title": "ProjectUpdate",
        "description": "Schema for updating a project."
      },
      "SearchPagination": {
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "title": "Page",
            "description": "Current page (1-indexed)"
          },
          "page_size": {
            "type": "integer",
            "minimum": 1,
            "title": "Page Size",
            "description": "Number of items per page"
          },
          "total": {
            "type": "integer",
            "minimum": 0,
            "title": "Total",
            "description": "Total number of matching records"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "readOnly": true
          },
          "has_previous": {
            "type": "boolean",
            "title": "Has Previous",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "page",
          "page_size",
          "total",
          "has_next",
          "has_previous"
        ],
        "title": "SearchPagination",
        "description": "Pagination metadata for search results."
      },
      "SearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "type": "array",
            "title": "Results",
            "description": "Search results"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of matching documents"
          },
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Original search query"
          },
          "took": {
            "type": "number",
            "title": "Took",
            "description": "Search execution time in seconds"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total",
          "query",
          "took"
        ],
        "title": "SearchResponse",
        "description": "Schema for search response."
      },
      "SearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Document unique identifier"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Document content"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "Relevance score (0-1)"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Document metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content",
          "score"
        ],
        "title": "SearchResult",
        "description": "Schema for individual search result."
      },
      "SearchScope": {
        "type": "string",
        "enum": [
          "all",
          "visitors",
          "messages"
        ],
        "title": "SearchScope",
        "description": "Supported search scopes."
      },
      "SetupCheckResult": {
        "properties": {
          "passed": {
            "type": "boolean",
            "title": "Passed",
            "description": "Whether the check passed"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Check result message"
          }
        },
        "type": "object",
        "required": [
          "passed",
          "message"
        ],
        "title": "SetupCheckResult",
        "description": "Individual check result for setup verification."
      },
      "SetupStatusResponse": {
        "properties": {
          "is_installed": {
            "type": "boolean",
            "title": "Is Installed",
            "description": "Whether the system has completed initial installation"
          },
          "has_admin": {
            "type": "boolean",
            "title": "Has Admin",
            "description": "Whether at least one admin account exists"
          },
          "has_llm_config": {
            "type": "boolean",
            "title": "Has Llm Config",
            "description": "Whether at least one LLM provider is configured and enabled"
          },
          "skip_llm_config": {
            "type": "boolean",
            "title": "Skip Llm Config",
            "description": "Whether LLM configuration step was explicitly skipped"
          },
          "setup_completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Setup Completed At",
            "description": "Timestamp when setup was completed (if applicable)"
          }
        },
        "type": "object",
        "required": [
          "is_installed",
          "has_admin",
          "has_llm_config",
          "skip_llm_config"
        ],
        "title": "SetupStatusResponse",
        "description": "Response schema for setup status check."
      },
      "SkipLLMConfigResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message for skip LLM operation"
          },
          "is_installed": {
            "type": "boolean",
            "title": "Is Installed",
            "description": "Updated installation status after skipping LLM configuration"
          },
          "setup_completed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Setup Completed At",
            "description": "Timestamp when setup was marked as completed"
          }
        },
        "type": "object",
        "required": [
          "message",
          "is_installed",
          "setup_completed_at"
        ],
        "title": "SkipLLMConfigResponse",
        "description": "Response schema for skipping LLM configuration during setup."
      },
      "StaffCancelRequest": {
        "properties": {
          "client_msg_no": {
            "type": "string",
            "title": "Client Msg No",
            "description": "Correlation ID used in streaming, i.e., client_msg_no"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for cancellation (for auditing)"
          }
        },
        "type": "object",
        "required": [
          "client_msg_no"
        ],
        "title": "StaffCancelRequest",
        "description": "Request body for staff-facing cancel endpoint (JWT auth)."
      },
      "StaffCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Username",
            "description": "Staff username for login"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Staff display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Staff avatar URL"
          },
          "role": {
            "$ref": "#/components/schemas/StaffRole",
            "description": "Staff role: user or agent",
            "default": "user"
          },
          "status": {
            "$ref": "#/components/schemas/StaffStatus",
            "description": "Staff status: online, offline, busy",
            "default": "offline"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "Staff password (will be hashed)"
          },
          "agent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id",
            "description": "Required when role=agent. References AI agent from AI Service"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "StaffCreate",
        "description": "Schema for creating a staff member."
      },
      "StaffListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/StaffResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of staff members"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "StaffListResponse",
        "description": "Schema for staff list response."
      },
      "StaffLoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT access token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "Token expiration time in seconds"
          },
          "staff": {
            "$ref": "#/components/schemas/StaffResponse",
            "description": "Staff information"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in",
          "staff"
        ],
        "title": "StaffLoginResponse",
        "description": "Schema for staff login response."
      },
      "StaffResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Staff ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Staff username"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Staff display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Staff avatar URL"
          },
          "role": {
            "$ref": "#/components/schemas/StaffRole",
            "description": "Staff role"
          },
          "status": {
            "$ref": "#/components/schemas/StaffStatus",
            "description": "Staff status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "project_id",
          "username",
          "role",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "StaffResponse",
        "description": "Schema for staff response (excludes password_hash)."
      },
      "StaffRole": {
        "type": "string",
        "enum": [
          "user",
          "agent"
        ],
        "title": "StaffRole",
        "description": "Staff role enumeration."
      },
      "StaffSendPlatformMessageRequest": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "WuKongIM channel identifier (e.g., {visitor_id}-vtr)"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "WuKongIM channel type (customer service chat uses 251)",
            "example": 251
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload",
            "description": "Platform message payload (matches Platform Service contract)"
          },
          "client_msg_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Msg No",
            "description": "Optional client-supplied idempotency key; generated when omitted"
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type",
          "payload"
        ],
        "title": "StaffSendPlatformMessageRequest",
        "description": "Payload for staff-triggered outbound platform messages."
      },
      "StaffStatus": {
        "type": "string",
        "enum": [
          "online",
          "offline",
          "busy"
        ],
        "title": "StaffStatus",
        "description": "Staff status enumeration."
      },
      "StaffTeamChatRequest": {
        "properties": {
          "team_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Team Id",
            "description": "AI Team ID to chat with"
          },
          "agent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id",
            "description": "AI Agent ID to chat with"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Message content to send"
          },
          "system_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Message",
            "description": "System message/prompt to guide the AI"
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Expected output format or description for the AI"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 600,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Seconds",
            "description": "Timeout in seconds for AI response",
            "default": 120
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "StaffTeamChatRequest",
        "description": "Request payload for staff-to-team/agent chat.\n\nNotes:\n- Either team_id or agent_id must be provided (exactly one)\n- If team_id is provided, channel_id will be {team_id}-team\n- If agent_id is provided, channel_id will be {agent_id}-agent\n- Response is delivered via WuKongIM"
      },
      "StaffTeamChatResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the chat completed successfully"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          },
          "client_msg_no": {
            "type": "string",
            "title": "Client Msg No",
            "description": "Message correlation ID for tracking"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "client_msg_no"
        ],
        "title": "StaffTeamChatResponse",
        "description": "Response payload for staff-to-team/agent chat."
      },
      "StaffUpdate": {
        "properties": {
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Updated display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Updated avatar URL"
          },
          "role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StaffRole"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated role (requires agent_id validation for agent role)"
          },
          "agent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id",
            "description": "Updated agent reference (validated with AI Service)"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StaffStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated status"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Updated password (will be hashed)"
          }
        },
        "type": "object",
        "title": "StaffUpdate",
        "description": "Schema for updating a staff member."
      },
      "SystemInfoResponse": {
        "properties": {
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Application version"
          },
          "environment": {
            "type": "string",
            "title": "Environment",
            "description": "Current runtime environment"
          },
          "api_version": {
            "type": "string",
            "title": "Api Version",
            "description": "API version (e.g., v1)"
          },
          "python_version": {
            "type": "string",
            "title": "Python Version",
            "description": "Python runtime version"
          },
          "build_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Build Time",
            "description": "Build time in ISO8601 format or similar, if available"
          },
          "git_commit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Commit",
            "description": "Git commit hash for the running build, if available"
          }
        },
        "type": "object",
        "required": [
          "version",
          "environment",
          "api_version",
          "python_version"
        ],
        "title": "SystemInfoResponse",
        "description": "Response schema for system information endpoint."
      },
      "TagCategory": {
        "type": "string",
        "enum": [
          "visitor",
          "knowledge"
        ],
        "title": "TagCategory",
        "description": "Tag category enumeration."
      },
      "TagCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Name",
            "description": "Tag name"
          },
          "category": {
            "$ref": "#/components/schemas/TagCategory",
            "description": "Tag category"
          },
          "weight": {
            "type": "integer",
            "maximum": 10,
            "minimum": 0,
            "title": "Weight",
            "description": "Tag importance/priority weight (0-10)",
            "default": 0
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Tag color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Tag description"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category"
        ],
        "title": "TagCreate",
        "description": "Schema for creating a tag."
      },
      "TagListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/TagResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of tags"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "TagListResponse",
        "description": "Schema for tag list response."
      },
      "TagResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Name",
            "description": "Tag name"
          },
          "category": {
            "$ref": "#/components/schemas/TagCategory",
            "description": "Tag category"
          },
          "weight": {
            "type": "integer",
            "maximum": 10,
            "minimum": 0,
            "title": "Weight",
            "description": "Tag importance/priority weight (0-10)",
            "default": 0
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Tag color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Tag description"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Base64 encoded tag ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "name",
          "category",
          "id",
          "project_id"
        ],
        "title": "TagResponse",
        "description": "Schema for tag response."
      },
      "TagUpdate": {
        "properties": {
          "weight": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10,
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "Updated tag weight"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Updated tag color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated tag description"
          }
        },
        "type": "object",
        "title": "TagUpdate",
        "description": "Schema for updating a tag."
      },
      "TeamCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Team name",
            "examples": [
              "Customer Support Team"
            ]
          },
          "model": {
            "type": "string",
            "maxLength": 150,
            "title": "Model",
            "description": "LLM model name (no provider prefix)",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Team system prompt/instructions",
            "examples": [
              "You are a customer support team focused on resolving user issues efficiently..."
            ]
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Expected output format description",
            "examples": [
              "Provide clear, actionable solutions with step-by-step instructions"
            ]
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Team session identifier",
            "examples": [
              "cs-team-session-2024"
            ]
          },
          "ai_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider Id",
            "description": "AIProvider ID (credentials) to use for this team"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default team (only one per project)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "model"
        ],
        "title": "TeamCreateRequest",
        "description": "Schema for creating a new team."
      },
      "TeamListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/TeamResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of teams"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "TeamListResponse",
        "description": "Schema for paginated team list responses."
      },
      "TeamResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Team name",
            "examples": [
              "Customer Support Team"
            ]
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "LLM model name (no provider prefix)",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Team system prompt/instructions",
            "examples": [
              "You are a customer support team focused on resolving user issues efficiently..."
            ]
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Expected output format description",
            "examples": [
              "Provide clear, actionable solutions with step-by-step instructions"
            ]
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Team session identifier",
            "examples": [
              "cs-team-session-2024"
            ]
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default team (only one per project)",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "TeamResponse",
        "description": "Schema for team API responses."
      },
      "TeamUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated team name"
          },
          "ai_provider_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider Id",
            "description": "AIProvider ID (credentials) to use or update for this team"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Updated LLM model name (no provider prefix)"
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Updated team instructions"
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Updated expected output format"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Updated session identifier"
          },
          "is_default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Default",
            "description": "Updated default status"
          }
        },
        "type": "object",
        "title": "TeamUpdateRequest",
        "description": "Schema for updating an existing team."
      },
      "TeamWithDetailsResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Team name",
            "examples": [
              "Customer Support Team"
            ]
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "LLM model name (no provider prefix)",
            "examples": [
              "gpt-4",
              "claude-3-sonnet-20240229"
            ]
          },
          "instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instruction",
            "description": "Team system prompt/instructions",
            "examples": [
              "You are a customer support team focused on resolving user issues efficiently..."
            ]
          },
          "expected_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Output",
            "description": "Expected output format description",
            "examples": [
              "Provide clear, actionable solutions with step-by-step instructions"
            ]
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 150
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Team session identifier",
            "examples": [
              "cs-team-session-2024"
            ]
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this should be the default team (only one per project)",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          },
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentWithDetailsResponse"
            },
            "type": "array",
            "title": "Agents",
            "description": "Agents belonging to this team with their tools and collections"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "TeamWithDetailsResponse",
        "description": "Schema for team response with additional details."
      },
      "ToggleEnabledRequest": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the binding should be enabled"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "ToggleEnabledRequest",
        "description": "Generic request to toggle enabled state for a binding."
      },
      "ToolCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional tool description"
          },
          "tool_type": {
            "$ref": "#/components/schemas/ToolType",
            "description": "Tool type (MCP | FUNCTION)"
          },
          "transport_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transport Type",
            "description": "Transport type (e.g., http, stdio, sse)"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint",
            "description": "Endpoint URL or path"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Tool configuration JSON object"
          }
        },
        "type": "object",
        "required": [
          "name",
          "tool_type"
        ],
        "title": "ToolCreateRequest",
        "description": "Schema for creating a tool."
      },
      "ToolResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft delete timestamp"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Project ID that owns the tool"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional tool description"
          },
          "tool_type": {
            "$ref": "#/components/schemas/ToolType",
            "description": "Tool type (MCP | FUNCTION)"
          },
          "transport_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transport Type",
            "description": "Transport type (e.g., http, stdio, sse)"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint",
            "description": "Endpoint URL or path"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Tool configuration JSON object"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "project_id",
          "name",
          "tool_type"
        ],
        "title": "ToolResponse",
        "description": "Schema for Tool API responses."
      },
      "ToolType": {
        "type": "string",
        "enum": [
          "MCP",
          "FUNCTION"
        ],
        "title": "ToolType",
        "description": "Tool type enumeration."
      },
      "ToolUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated tool name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated tool description"
          },
          "tool_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated tool type (MCP | FUNCTION)"
          },
          "transport_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transport Type",
            "description": "Updated transport type (e.g., http, stdio, sse)"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint",
            "description": "Updated endpoint URL or path"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Updated tool configuration JSON object"
          }
        },
        "type": "object",
        "title": "ToolUpdateRequest",
        "description": "Schema for updating an existing tool."
      },
      "UnifiedSearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Search keyword used"
          },
          "scope": {
            "$ref": "#/components/schemas/SearchScope",
            "description": "Scope that was applied"
          },
          "visitors": {
            "items": {
              "$ref": "#/components/schemas/VisitorBasicResponse"
            },
            "type": "array",
            "title": "Visitors",
            "description": "Visitor records that matched the query"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageSearchResult"
            },
            "type": "array",
            "title": "Messages",
            "description": "Messages that matched the query"
          },
          "visitor_count": {
            "type": "integer",
            "title": "Visitor Count",
            "description": "Number of visitor entries returned"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "description": "Number of message entries returned"
          },
          "visitor_pagination": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SearchPagination"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pagination metadata for visitor results"
          },
          "message_pagination": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SearchPagination"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pagination metadata for message results"
          }
        },
        "type": "object",
        "required": [
          "query",
          "scope",
          "visitor_count",
          "message_count"
        ],
        "title": "UnifiedSearchResponse",
        "description": "Response payload for unified visitor/message search."
      },
      "VerifySetupResponse": {
        "properties": {
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether the installation is valid and complete"
          },
          "checks": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SetupCheckResult"
            },
            "type": "object",
            "title": "Checks",
            "description": "Individual check results"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "List of errors found"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "List of warnings"
          }
        },
        "type": "object",
        "required": [
          "is_valid",
          "checks"
        ],
        "title": "VerifySetupResponse",
        "description": "Response schema for setup verification."
      },
      "VisitorAIInsightResponse": {
        "properties": {
          "satisfaction_score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Satisfaction Score",
            "description": "Satisfaction score on a 0-5 scale (0=unknown)"
          },
          "emotion_score": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Emotion Score",
            "description": "Emotion score on a 0-5 scale (0=unknown)"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Intent classification (e.g., purchase, inquiry, complaint, support)"
          },
          "insight_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Insight Summary",
            "description": "Short insight summary"
          },
          "insight_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Insight Metadata",
            "description": "Additional insight metadata"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "title": "VisitorAIInsightResponse",
        "description": "AI derived insight scores for a visitor."
      },
      "VisitorAIProfileResponse": {
        "properties": {
          "persona_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Persona Tags",
            "description": "AI generated persona tags"
          },
          "summary": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Structured persona details"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "title": "VisitorAIProfileResponse",
        "description": "AI persona representation for a visitor."
      },
      "VisitorActivityContext": {
        "properties": {
          "page_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Url",
            "description": "Full URL associated with the activity, such as a visited page.",
            "example": "https://example.com/pricing"
          },
          "referrer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Referrer",
            "description": "Referrer URL or source identifier.",
            "example": "https://google.com/search?q=example"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Arbitrary key/value data related to the activity.",
            "example": {
              "browser": "Chrome 124",
              "cta": "start-chat"
            }
          }
        },
        "type": "object",
        "title": "VisitorActivityContext",
        "description": "Structured context payload for an activity."
      },
      "VisitorActivityCreateRequest": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id",
            "description": "Existing activity ID to update; omit to create a new record.",
            "example": "6f90a4e3-01d4-4c3f-970a-c90e7ec0d235"
          },
          "platform_api_key": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Api Key",
            "description": "Platform API key used for authentication (may also be provided via `X-Platform-API-Key` header).",
            "example": "plf_3b9f86e5d1c946e08b9f2f51234abcd1"
          },
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Visitor ID returned by the registration API.",
            "example": "9a5d86c4-1d3a-4f4b-bad0-0d81c3f9f1a2"
          },
          "activity_type": {
            "$ref": "#/components/schemas/VisitorActivityType",
            "description": "Categorised type of the activity being recorded.",
            "example": "page_view"
          },
          "title": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Title",
            "description": "Short headline summarising the activity.",
            "example": "Visited pricing page"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional longer description for the activity.",
            "example": "The visitor opened the pricing page and viewed the enterprise plan details."
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds",
            "description": "Duration the visitor spent on the activity, in seconds.",
            "example": 42
          },
          "context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorActivityContext"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured context for the activity.",
            "examples": [
              {
                "metadata": {
                  "app_version": "1.4.2",
                  "cta": "start-chat",
                  "device": "iPhone 15"
                },
                "page_url": "https://example.com/pricing",
                "referrer": "https://google.com"
              }
            ]
          },
          "occurred_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Occurred At",
            "description": "Timestamp when the activity happened. Defaults to now if omitted.",
            "example": "2024-06-01T08:30:15.123Z"
          }
        },
        "type": "object",
        "required": [
          "visitor_id",
          "activity_type",
          "title"
        ],
        "title": "VisitorActivityCreateRequest",
        "description": "Incoming payload to record a visitor activity."
      },
      "VisitorActivityCreateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Recorded activity ID."
          },
          "activity_type": {
            "type": "string",
            "title": "Activity Type",
            "description": "Stored activity type."
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Stored activity title."
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Stored activity description."
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time",
            "title": "Occurred At",
            "description": "Timestamp the activity is recorded at."
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds",
            "description": "Stored activity duration in seconds."
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Persisted activity context."
          }
        },
        "type": "object",
        "required": [
          "id",
          "activity_type",
          "title",
          "occurred_at"
        ],
        "title": "VisitorActivityCreateResponse",
        "description": "Response after recording a visitor activity."
      },
      "VisitorActivityResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Activity ID"
          },
          "activity_type": {
            "type": "string",
            "title": "Activity Type",
            "description": "Categorised activity type"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Activity title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Activity description"
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time",
            "title": "Occurred At",
            "description": "Time when the activity occurred"
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds",
            "description": "Activity duration in seconds, when applicable"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Optional context for the activity"
          }
        },
        "type": "object",
        "required": [
          "id",
          "activity_type",
          "title",
          "occurred_at"
        ],
        "title": "VisitorActivityResponse",
        "description": "Recent activity entry for a visitor."
      },
      "VisitorActivityType": {
        "type": "string",
        "enum": [
          "session_start",
          "session_end",
          "page_view",
          "message_sent",
          "form_submitted",
          "file_uploaded",
          "custom_event"
        ],
        "title": "VisitorActivityType",
        "description": "Supported visitor activity types."
      },
      "VisitorAttributesUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Updated visitor nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Updated visitor avatar URL"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number",
            "description": "Updated visitor phone number"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Updated visitor email"
          },
          "company": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Company",
            "description": "Updated visitor company or organization"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title",
            "description": "Updated visitor job title or position"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Updated acquisition source"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Updated notes about the visitor"
          },
          "custom_attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Attributes",
            "description": "Updated custom attribute key/value pairs"
          }
        },
        "type": "object",
        "title": "VisitorAttributesUpdate",
        "description": "Schema for updating visitor profile attributes."
      },
      "VisitorAvatarUploadResponse": {
        "properties": {
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Visitor ID"
          },
          "avatar_url": {
            "type": "string",
            "title": "Avatar Url",
            "description": "Avatar URL (relative path for local storage)"
          },
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "Original file name"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "MIME type of the file"
          },
          "uploaded_at": {
            "type": "string",
            "format": "date-time",
            "title": "Uploaded At",
            "description": "Upload timestamp"
          }
        },
        "type": "object",
        "required": [
          "visitor_id",
          "avatar_url",
          "file_name",
          "file_size",
          "file_type",
          "uploaded_at"
        ],
        "title": "VisitorAvatarUploadResponse",
        "description": "Response schema for visitor avatar upload."
      },
      "VisitorBasicResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Visitor ID"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Visitor nickname on this platform"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Visitor avatar URL on this platform"
          },
          "platform_open_id": {
            "type": "string",
            "title": "Platform Open Id",
            "description": "Visitor unique identifier on this platform"
          },
          "platform_id": {
            "type": "string",
            "format": "uuid",
            "title": "Platform Id",
            "description": "Associated platform ID"
          },
          "platform_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PlatformType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated platform type (e.g., website, wechat)"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this visitor"
          },
          "is_online": {
            "type": "boolean",
            "title": "Is Online",
            "description": "Whether the visitor is currently online/active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform_open_id",
          "platform_id",
          "is_online",
          "created_at",
          "updated_at"
        ],
        "title": "VisitorBasicResponse",
        "description": "Lightweight visitor response with essential fields only."
      },
      "VisitorCreate": {
        "properties": {
          "platform_open_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Platform Open Id",
            "description": "Visitor unique identifier on this platform"
          },
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Visitor nickname on this platform"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Visitor avatar URL on this platform"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number",
            "description": "Visitor phone number on this platform"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Visitor email on this platform"
          },
          "company": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Company",
            "description": "Visitor company or organization"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title",
            "description": "Visitor job title or position"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Acquisition source describing how the visitor found us"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Additional notes about the visitor"
          },
          "custom_attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Custom Attributes",
            "description": "Custom attribute key/value pairs (supports nested structures)"
          },
          "platform_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Id",
            "description": "Associated platform ID (required if platform_type not provided)"
          },
          "platform_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PlatformType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Platform type to use default platform (required if platform_id not provided)"
          }
        },
        "type": "object",
        "required": [
          "platform_open_id"
        ],
        "title": "VisitorCreate",
        "description": "Schema for creating a visitor."
      },
      "VisitorListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/VisitorResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of visitors"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMetadata",
            "description": "Pagination metadata"
          }
        },
        "type": "object",
        "required": [
          "data",
          "pagination"
        ],
        "title": "VisitorListResponse",
        "description": "Schema for visitor list response."
      },
      "VisitorMessageSyncRequest": {
        "properties": {
          "platform_api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Api Key",
            "description": "Platform API key for authentication"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "WuKongIM channel identifier"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "WuKongIM channel type (1=personal, 251=customer service)"
          },
          "start_message_seq": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Message Seq",
            "description": "Start message sequence (inclusive)"
          },
          "end_message_seq": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Message Seq",
            "description": "End message sequence (exclusive)"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit",
            "description": "Max messages to return (default 100)",
            "default": 100
          },
          "pull_mode": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pull Mode",
            "description": "Pull mode (0=down, 1=up); default 0",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type"
        ],
        "title": "VisitorMessageSyncRequest",
        "description": "Visitor-facing request to sync channel messages."
      },
      "VisitorRegisterRequest": {
        "properties": {
          "platform_api_key": {
            "type": "string",
            "title": "Platform Api Key"
          },
          "platform_open_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform Open Id"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Visitor avatar URL"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "company": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Company"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "custom_attributes": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Custom Attributes",
            "default": {

            }
          },
          "system_info": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorSystemInfoRequest"
              },
              {
                "type": "null"
              }
            ],
            "description": "Visitor system metadata payload (browser, OS, timestamps, etc.)"
          }
        },
        "type": "object",
        "required": [
          "platform_api_key"
        ],
        "title": "VisitorRegisterRequest"
      },
      "VisitorRegisterResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "platform_open_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Platform Open Id",
            "description": "Visitor unique identifier on this platform"
          },
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Visitor nickname on this platform"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Visitor avatar URL on this platform"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number",
            "description": "Visitor phone number on this platform"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Visitor email on this platform"
          },
          "company": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Company",
            "description": "Visitor company or organization"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title",
            "description": "Visitor job title or position"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Acquisition source describing how the visitor found us"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Additional notes about the visitor"
          },
          "custom_attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Custom Attributes",
            "description": "Custom attribute key/value pairs (supports nested structures)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Visitor ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "platform_id": {
            "type": "string",
            "format": "uuid",
            "title": "Platform Id",
            "description": "Associated platform ID"
          },
          "first_visit_time": {
            "type": "string",
            "format": "date-time",
            "title": "First Visit Time",
            "description": "When the visitor first accessed the system"
          },
          "last_visit_time": {
            "type": "string",
            "format": "date-time",
            "title": "Last Visit Time",
            "description": "Visitor most recent activity/visit time"
          },
          "last_offline_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Offline Time",
            "description": "Most recent time visitor went offline"
          },
          "is_online": {
            "type": "boolean",
            "title": "Is Online",
            "description": "Whether the visitor is currently online/active"
          },
          "platform_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PlatformType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated platform type (e.g., website, wechat)"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this visitor"
          },
          "tags": {
            "items": {
              "$ref": "#/components/schemas/TagResponse"
            },
            "type": "array",
            "title": "Tags",
            "description": "Associated visitor tags"
          },
          "ai_profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorAIProfileResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "AI persona data"
          },
          "ai_insights": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorAIInsightResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "AI insight metrics"
          },
          "system_info": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorSystemInfoResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "System metadata"
          },
          "recent_activities": {
            "items": {
              "$ref": "#/components/schemas/VisitorActivityResponse"
            },
            "type": "array",
            "title": "Recent Activities",
            "description": "Recent visitor activities"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "default": 2
          },
          "im_token": {
            "type": "string",
            "title": "Im Token"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "platform_open_id",
          "id",
          "project_id",
          "platform_id",
          "first_visit_time",
          "last_visit_time",
          "is_online",
          "channel_id",
          "im_token"
        ],
        "title": "VisitorRegisterResponse"
      },
      "VisitorResponse": {
        "properties": {
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "platform_open_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Platform Open Id",
            "description": "Visitor unique identifier on this platform"
          },
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Visitor nickname on this platform"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Visitor avatar URL on this platform"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number",
            "description": "Visitor phone number on this platform"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Visitor email on this platform"
          },
          "company": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Company",
            "description": "Visitor company or organization"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title",
            "description": "Visitor job title or position"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Acquisition source describing how the visitor found us"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Additional notes about the visitor"
          },
          "custom_attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Custom Attributes",
            "description": "Custom attribute key/value pairs (supports nested structures)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Visitor ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "platform_id": {
            "type": "string",
            "format": "uuid",
            "title": "Platform Id",
            "description": "Associated platform ID"
          },
          "first_visit_time": {
            "type": "string",
            "format": "date-time",
            "title": "First Visit Time",
            "description": "When the visitor first accessed the system"
          },
          "last_visit_time": {
            "type": "string",
            "format": "date-time",
            "title": "Last Visit Time",
            "description": "Visitor most recent activity/visit time"
          },
          "last_offline_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Offline Time",
            "description": "Most recent time visitor went offline"
          },
          "is_online": {
            "type": "boolean",
            "title": "Is Online",
            "description": "Whether the visitor is currently online/active"
          },
          "platform_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PlatformType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated platform type (e.g., website, wechat)"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this visitor"
          },
          "tags": {
            "items": {
              "$ref": "#/components/schemas/TagResponse"
            },
            "type": "array",
            "title": "Tags",
            "description": "Associated visitor tags"
          },
          "ai_profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorAIProfileResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "AI persona data"
          },
          "ai_insights": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorAIInsightResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "AI insight metrics"
          },
          "system_info": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VisitorSystemInfoResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "System metadata"
          },
          "recent_activities": {
            "items": {
              "$ref": "#/components/schemas/VisitorActivityResponse"
            },
            "type": "array",
            "title": "Recent Activities",
            "description": "Recent visitor activities"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "platform_open_id",
          "id",
          "project_id",
          "platform_id",
          "first_visit_time",
          "last_visit_time",
          "is_online"
        ],
        "title": "VisitorResponse",
        "description": "Schema for visitor response with related entities."
      },
      "VisitorSystemInfoRequest": {
        "properties": {
          "source_detail": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Detail",
            "description": "Additional source context"
          },
          "browser": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Browser",
            "description": "Visitor browser name/version"
          },
          "operating_system": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Operating System",
            "description": "Visitor operating system"
          }
        },
        "type": "object",
        "title": "VisitorSystemInfoRequest",
        "description": "Incoming payload carrying visitor system metadata."
      },
      "VisitorSystemInfoResponse": {
        "properties": {
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Acquisition platform/channel"
          },
          "source_detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Detail",
            "description": "Additional source detail"
          },
          "browser": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Browser",
            "description": "Browser information"
          },
          "operating_system": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operating System",
            "description": "Operating system information"
          },
          "first_seen_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Seen At",
            "description": "First recorded session timestamp"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "title": "VisitorSystemInfoResponse",
        "description": "System metadata associated with a visitor."
      },
      "VisitorTagCreate": {
        "properties": {
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Visitor ID"
          },
          "tag_id": {
            "type": "string",
            "title": "Tag Id",
            "description": "Tag ID (Base64 encoded)"
          }
        },
        "type": "object",
        "required": [
          "visitor_id",
          "tag_id"
        ],
        "title": "VisitorTagCreate",
        "description": "Schema for creating a visitor-tag relationship."
      },
      "VisitorTagResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Visitor-tag relationship ID"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id",
            "description": "Associated project ID"
          },
          "visitor_id": {
            "type": "string",
            "format": "uuid",
            "title": "Visitor Id",
            "description": "Associated visitor ID"
          },
          "tag_id": {
            "type": "string",
            "title": "Tag Id",
            "description": "Associated tag ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Soft deletion timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "project_id",
          "visitor_id",
          "tag_id",
          "created_at",
          "updated_at"
        ],
        "title": "VisitorTagResponse",
        "description": "Schema for visitor-tag relationship response."
      },
      "VisitorUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated visitor real name"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Updated visitor nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "Updated visitor avatar URL"
          },
          "phone_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone Number",
            "description": "Updated visitor phone number"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Updated visitor email"
          },
          "company": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Company",
            "description": "Updated visitor company or organization"
          },
          "job_title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Title",
            "description": "Updated visitor job title or position"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Updated acquisition source"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Updated notes about the visitor"
          },
          "custom_attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Attributes",
            "description": "Updated custom attribute key/value pairs"
          },
          "is_online": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Online",
            "description": "Updated visitor online status"
          },
          "ai_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Disabled",
            "description": "Whether AI responses are disabled for this visitor"
          },
          "last_visit_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Visit Time",
            "description": "Updated last visit time"
          },
          "last_offline_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Offline Time",
            "description": "Updated last offline time"
          }
        },
        "type": "object",
        "title": "VisitorUpdate",
        "description": "Schema for updating a visitor."
      },
      "WuKongIMChannelMessageSyncRequest": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type (1=personal, 2=group)"
          },
          "start_message_seq": {
            "type": "integer",
            "title": "Start Message Seq",
            "description": "Start message sequence number (inclusive)",
            "default": 0
          },
          "end_message_seq": {
            "type": "integer",
            "title": "End Message Seq",
            "description": "End message sequence number (exclusive)",
            "default": 0
          },
          "limit": {
            "type": "integer",
            "maximum": 1000,
            "minimum": 1,
            "title": "Limit",
            "description": "Message count limit",
            "default": 100
          },
          "pull_mode": {
            "type": "integer",
            "title": "Pull Mode",
            "description": "Pull mode (0=down, 1=up)",
            "default": 1
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type"
        ],
        "title": "WuKongIMChannelMessageSyncRequest",
        "description": "Schema for channel message synchronization request."
      },
      "WuKongIMChannelMessageSyncResponse": {
        "properties": {
          "start_message_seq": {
            "type": "integer",
            "title": "Start Message Seq",
            "description": "Query start message sequence"
          },
          "end_message_seq": {
            "type": "integer",
            "title": "End Message Seq",
            "description": "Query end message sequence"
          },
          "more": {
            "type": "integer",
            "title": "More",
            "description": "Whether there are more messages (0=no, 1=yes)"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/WuKongIMMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "List of messages"
          }
        },
        "type": "object",
        "required": [
          "start_message_seq",
          "end_message_seq",
          "more",
          "messages"
        ],
        "title": "WuKongIMChannelMessageSyncResponse",
        "description": "Schema for channel message synchronization response."
      },
      "WuKongIMConversation": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type (1=personal, 2=group, 3=customer_service)"
          },
          "unread": {
            "type": "integer",
            "title": "Unread",
            "description": "Unread message count"
          },
          "timestamp": {
            "type": "integer",
            "title": "Timestamp",
            "description": "Timestamp (10-digit seconds)"
          },
          "last_msg_seq": {
            "type": "integer",
            "title": "Last Msg Seq",
            "description": "Last message sequence number"
          },
          "last_client_msg_no": {
            "type": "string",
            "title": "Last Client Msg No",
            "description": "Last client message number"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Data version number"
          },
          "recents": {
            "items": {
              "$ref": "#/components/schemas/WuKongIMMessage"
            },
            "type": "array",
            "title": "Recents",
            "description": "Recent messages"
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type",
          "unread",
          "timestamp",
          "last_msg_seq",
          "last_client_msg_no",
          "version",
          "recents"
        ],
        "title": "WuKongIMConversation",
        "description": "Schema for WuKongIM conversation."
      },
      "WuKongIMConversationSyncRequest": {
        "properties": {
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Client's max conversation version (0 if no local data)"
          },
          "last_msg_seqs": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Msg Seqs",
            "description": "Last message sequences string (format: channelID:channelType:last_msg_seq|...)"
          },
          "msg_count": {
            "type": "integer",
            "title": "Msg Count",
            "description": "Max message count per conversation",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "version"
        ],
        "title": "WuKongIMConversationSyncRequest",
        "description": "Schema for conversation synchronization request."
      },
      "WuKongIMConversationSyncResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/WuKongIMConversation"
            },
            "type": "array",
            "title": "Conversations",
            "description": "List of conversations"
          }
        },
        "type": "object",
        "required": [
          "conversations"
        ],
        "title": "WuKongIMConversationSyncResponse",
        "description": "Schema for conversation synchronization response."
      },
      "WuKongIMDeleteConversationRequest": {
        "properties": {
          "uid": {
            "type": "string",
            "title": "Uid",
            "description": "Current login user UID"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type"
          }
        },
        "type": "object",
        "required": [
          "uid",
          "channel_id",
          "channel_type"
        ],
        "title": "WuKongIMDeleteConversationRequest",
        "description": "Schema for deleting conversation."
      },
      "WuKongIMIntegrationStatus": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether WuKongIM integration is enabled"
          },
          "service_url": {
            "type": "string",
            "title": "Service Url",
            "description": "WuKongIM service URL"
          },
          "last_sync": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Sync",
            "description": "Last synchronization timestamp"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count",
            "description": "Number of recent errors",
            "default": 0
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error",
            "description": "Last error message"
          }
        },
        "type": "object",
        "required": [
          "enabled",
          "service_url"
        ],
        "title": "WuKongIMIntegrationStatus",
        "description": "Schema for WuKongIM integration status."
      },
      "WuKongIMMessage": {
        "properties": {
          "header": {
            "$ref": "#/components/schemas/WuKongIMMessageHeader",
            "description": "Message header"
          },
          "setting": {
            "type": "integer",
            "title": "Setting",
            "description": "Message settings (uint8)"
          },
          "message_id": {
            "type": "integer",
            "title": "Message Id",
            "description": "Global unique message ID"
          },
          "client_msg_no": {
            "type": "string",
            "title": "Client Msg No",
            "description": "Client message number (UUID)"
          },
          "message_seq": {
            "type": "integer",
            "title": "Message Seq",
            "description": "Message sequence number"
          },
          "from_uid": {
            "type": "string",
            "title": "From Uid",
            "description": "Sender user ID"
          },
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type (1=personal, 2=group)"
          },
          "timestamp": {
            "type": "integer",
            "title": "Timestamp",
            "description": "Message timestamp (10-digit seconds)"
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload",
            "description": "Decoded JSON message content"
          },
          "end": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End",
            "description": "Stream end flag (0=not ended, 1=ended)"
          },
          "end_reason": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Reason",
            "description": "Stream end reason code"
          },
          "stream_data": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stream Data",
            "description": "Decoded stream data (base64 decoded)"
          },
          "message_id_str": {
            "type": "string",
            "title": "Message Id Str",
            "description": "String representation of message_id to avoid JS int64 precision issues.",
            "readOnly": true
          },
          "setting_flags": {
            "$ref": "#/components/schemas/WuKongIMSettingFlags",
            "description": "Parsed boolean flags from `setting` bitmask.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "header",
          "setting",
          "message_id",
          "client_msg_no",
          "message_seq",
          "from_uid",
          "channel_id",
          "channel_type",
          "timestamp",
          "payload",
          "message_id_str",
          "setting_flags"
        ],
        "title": "WuKongIMMessage",
        "description": "Schema for WuKongIM message."
      },
      "WuKongIMMessageHeader": {
        "properties": {
          "no_persist": {
            "type": "integer",
            "title": "No Persist",
            "description": "Whether to persist message (0=persist, 1=no persist)"
          },
          "red_dot": {
            "type": "integer",
            "title": "Red Dot",
            "description": "Whether to show red dot (0=no, 1=yes)"
          },
          "sync_once": {
            "type": "integer",
            "title": "Sync Once",
            "description": "Whether write diffusion (0=no, 1=yes)"
          }
        },
        "type": "object",
        "required": [
          "no_persist",
          "red_dot",
          "sync_once"
        ],
        "title": "WuKongIMMessageHeader",
        "description": "Schema for WuKongIM message header."
      },
      "WuKongIMOnlineStatusRequest": {
        "properties": {
          "uids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Uids",
            "description": "List of user IDs to check"
          }
        },
        "type": "object",
        "required": [
          "uids"
        ],
        "title": "WuKongIMOnlineStatusRequest",
        "description": "Schema for checking user online status."
      },
      "WuKongIMOnlineStatusResponse": {
        "properties": {
          "online_uids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Online Uids",
            "description": "List of online user IDs"
          }
        },
        "type": "object",
        "required": [
          "online_uids"
        ],
        "title": "WuKongIMOnlineStatusResponse",
        "description": "Schema for online status response."
      },
      "WuKongIMRouteResponse": {
        "properties": {
          "tcp_addr": {
            "type": "string",
            "title": "Tcp Addr",
            "description": "TCP connection address (format: IP:PORT)"
          },
          "ws_addr": {
            "type": "string",
            "title": "Ws Addr",
            "description": "WebSocket connection address (format: IP:PORT)"
          }
        },
        "type": "object",
        "required": [
          "tcp_addr",
          "ws_addr"
        ],
        "title": "WuKongIMRouteResponse",
        "description": "Schema for WuKongIM route (WebSocket connection address) response."
      },
      "WuKongIMSetUnreadRequest": {
        "properties": {
          "channel_id": {
            "type": "string",
            "title": "Channel Id",
            "description": "Channel ID"
          },
          "channel_type": {
            "type": "integer",
            "title": "Channel Type",
            "description": "Channel type"
          },
          "unread": {
            "type": "integer",
            "title": "Unread",
            "description": "Unread message count"
          }
        },
        "type": "object",
        "required": [
          "channel_id",
          "channel_type",
          "unread"
        ],
        "title": "WuKongIMSetUnreadRequest",
        "description": "Schema for setting conversation unread count."
      },
      "WuKongIMSettingFlags": {
        "properties": {
          "receipt": {
            "type": "boolean",
            "title": "Receipt",
            "description": "Receipt enabled (bit 7, 1\u003C\u003C7)"
          },
          "signal": {
            "type": "boolean",
            "title": "Signal",
            "description": "Signal encryption enabled (bit 5, 1\u003C\u003C5)"
          },
          "no_encrypt": {
            "type": "boolean",
            "title": "No Encrypt",
            "description": "No encryption (bit 4, 1\u003C\u003C4)"
          },
          "topic": {
            "type": "boolean",
            "title": "Topic",
            "description": "Has topic (bit 3, 1\u003C\u003C3)"
          },
          "stream": {
            "type": "boolean",
            "title": "Stream",
            "description": "Stream enabled (bit 1, 1\u003C\u003C1)"
          }
        },
        "type": "object",
        "required": [
          "receipt",
          "signal",
          "no_encrypt",
          "topic",
          "stream"
        ],
        "title": "WuKongIMSettingFlags",
        "description": "Parsed flags from WuKongIM message `setting` field for frontend consumption."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}